{"version":3,"sources":["components/login.component.js","components/appBar.component.js","components/chat.component.js","components/home.component.js","components/register.component.js","components/workout.component.js","components/messages.component.js","components/account.component.js","components/bottomNavigation.component.js","components/weight.component.js","App.js","index.js"],"names":["Login","props","onChangeEmail","bind","onChangePassword","onSubmit","state","email","password","errorMessage","showError","e","this","setState","target","value","fetch","method","credentials","headers","Accept","then","res","json","log","redirect","window","location","catch","error","console","$","click","animate","scrollTop","offset","top","preventDefault","loginData","JSON","stringify","body","auth","className","autoPlay","loop","muted","playsInline","poster","src","type","style","marginTop","alt","height","width","role","id","name","placeholder","onChange","required","href","fontSize","float","lineHeight","textAlign","Component","useStyles","makeStyles","theme","root","flexGrow","left","menuButton","marginRight","spacing","title","ButtonAppBar","classes","AppBar","position","background","boxShadow","Toolbar","back","to","color","IconButton","edge","aria-label","Typography","variant","pageName","userTo","Home","onChangeFirstName","onChangeLastName","changePtTrue","changePtFalse","firstName","lastName","ptBool","registerData","data-toggle","onClick","defaultChecked","Workout","socket","Messages","messages","currentUser","getUser","errorMsg","userList","userListLoaded","startChat","loadMessages","WebSocket","send","messageType","onopen","onmessage","a","parse","data","resetStates","getMessages","getAllUsers","createMessageLists","i","length","inList","j","userFrom","push","newUserList","newUserList2","sort","b","Date","date","history","pathname","userEmail","user","string","charAt","toUpperCase","slice","data-target","List","map","users","index","ListItem","key","ListItemIcon","read","ListItemText","primary","captitaliseFirstLetter","secondary","text","textShadow","data-dismiss","onChangeText","message","markMessageAsRead","scrollTo","messageData","newMessage","_id","sendMessage","messageID","classname","messageFrom","renderMessage","ListItemLink","button","component","Account","logout","Divider","bottom","zIndex","LabelBottomNavigation","React","useState","setValue","useHistory","BottomNavigation","event","newValue","showLabels","BottomNavigationAction","label","icon","Weight","weight","userHeight","handleValueWeight","handleValueHeight","renderSlideRulerWeight","renderSlideRulerHeight","addWeight","getWeight","deleteWeight","updateHeight","getHeight","SlideRuler","el","refs","slideRulerWeight","maxValue","minValue","currentValue","handleValue","precision","fontColor","slideRulerHeight","allWeights","weights","weightData","reload","heightData","weightsData","getDate","getMonth","getFullYear","ListItemSecondaryAction","ref","PrivateRoute","authed","wasInitialised","rest","render","App","checkAuth","path","exact","Register","Chat","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.3f40dbc9.chunk.js","sourcesContent":["import React, { Component, Fragment } from 'react';\r\nimport '../App.css';\r\nimport $ from 'jquery';\r\nimport FitnessCenterIcon from '@material-ui/icons/FitnessCenter';\r\nimport ChatIcon from '@material-ui/icons/Chat';\r\nimport TimelineIcon from '@material-ui/icons/Timeline';\r\nimport DevicesIcon from '@material-ui/icons/Devices';\r\nimport HttpsIcon from '@material-ui/icons/Https';\r\nimport WebIcon from '@material-ui/icons/Web';\r\n\r\nexport default class Login extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.onChangeEmail = this.onChangeEmail.bind(this);\r\n        this.onChangePassword = this.onChangePassword.bind(this);\r\n        this.onSubmit = this.onSubmit.bind(this);\r\n\r\n        this.state = {\r\n            email: '',\r\n            password: '',\r\n            errorMessage: '',\r\n            showError: false\r\n        }\r\n    }\r\n\r\n    onChangeEmail(e) {\r\n        this.setState({\r\n            email: e.target.value\r\n        });\r\n    }\r\n\r\n    onChangePassword(e) {\r\n        this.setState({\r\n            password: e.target.value\r\n        });\r\n    }\r\n\r\n    componentDidMount() {\r\n        fetch('/api/auth/', {\r\n                method: 'GET',\r\n                credentials: 'include',\r\n                headers: {\r\n                    Accept: \"application/json\",\r\n                    \"Content-Type\": \"application/json\",\r\n                    \"Access-Control-Allow-Credentials\": true\r\n                  }\r\n                }\r\n            ).then(res => {\r\n                res.json().then(log => {\r\n                     if (log.redirect === '/home') {    \r\n                        window.location = \"/home\"\r\n                     } else {\r\n                         \r\n                     }\r\n                });\r\n                }).catch(error => console.log(error))\r\n\r\n\r\n        $(function() {\r\n            $('.scroll-down').click (function() {\r\n                $('html, body').animate({scrollTop: $('section.scrollTo').offset().top }, 'slow');\r\n                return false;\r\n            });\r\n        });\r\n      }\r\n\r\n    onSubmit(e) {\r\n        e.preventDefault();\r\n        const loginData = JSON.stringify(this.state);\r\n\r\n        fetch('/api/login', {\r\n            method: 'POST',\r\n            credentials: 'include',\r\n            headers: {'Content-Type': 'application/json'},\r\n            body: loginData\r\n        }).then(res => {\r\n            res.json().then(log => {\r\n                if (log.auth === true) {\r\n                    window.location = '/home'\r\n                } else {\r\n                    this.setState({\r\n                        errorMessage: \"Incorrect email or password\",\r\n                        showError: true,\r\n                        password: \"\"                    \r\n                    });\r\n                }\r\n            });\r\n            }).catch(error => console.log(error))\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Fragment>\r\n            <div className=\"fullscreen-bg\">\r\n                <video autoPlay loop muted playsInline poster=\"\" className=\"fullscreen-bg__video\">\r\n                    <source src=\"/login-video.mp4\" type=\"video/mp4\"/>\r\n                </video>\r\n            </div>\r\n                <div style={{marginTop: 10}}>\r\n\r\n                <p className=\"appTitle\">\r\n                    <img src=\"logo512.png\" alt=\"logo\" height=\"60\" width=\"60\"/>\r\n                    CloudPT\r\n                </p><br/>\r\n                \r\n                <div className=\"homeBackground\">\r\n                { this.state.showError?\r\n                    <div>\r\n                    <h4 className=\"alert alert-danger alert-dismissible\" role=\"alert\"> { this.state.errorMessage } </h4>\r\n                    </div>\r\n                : null\r\n                }\r\n                <form onSubmit={this.onSubmit}>\r\n                    <div className=\"form-group\"> \r\n                        <input  type=\"email\"\r\n                                id=\"email\"\r\n                                name=\"email\"\r\n                                className=\"form-control\"\r\n                                placeholder=\"Email Address\"\r\n                                value={this.state.email}\r\n                                onChange={this.onChangeEmail}\r\n                                required\r\n                        />\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <input \r\n                                type=\"password\" \r\n                                id=\"password\"\r\n                                name=\"password\"\r\n                                className=\"form-control\"\r\n                                placeholder=\"Password\"\r\n                                value={this.state.password}\r\n                                onChange={this.onChangePassword}\r\n                                required\r\n                        />\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <input type=\"submit\" value=\"LOGIN\" className=\"btn btn-success container\" />\r\n                    </div>\r\n                </form>\r\n            </div>\r\n            \r\n            <br/>\r\n            <div>\r\n                <a href=\"/register\" className=\"btn btn-primary container\">SIGN UP HERE</a>\r\n            </div>\r\n\r\n\r\n            \r\n            <div className=\"scroll-down-info\"> Check out the app features!</div>\r\n                <section>\r\n                    <a href=\"#\" className=\"scroll-down\" ></a>\r\n                </section>\r\n                \r\n                <section className=\"scrollTo\"><br/>\r\n                    <div className=\"homeBackground\">\r\n                        <FitnessCenterIcon style={{fontSize: \"65px\", float: \"left\"}}/>\r\n                        <h3 style={{fontSize: \"30px\", lineHeight: \"60px\"}}>Workout Creation</h3>\r\n                        <li className=\"list-group-item\" style={{textAlign: \"center\"}}>Create custom workouts for clients</li>\r\n                        <li className=\"list-group-item\" style={{textAlign: \"center\"}}>Assign workouts to your clients</li>\r\n                        <li className=\"list-group-item\" style={{textAlign: \"center\"}}>View clients workout history</li>\r\n                        \r\n                        <br/>\r\n                        <ChatIcon style={{fontSize: \"65px\", float: \"left\"}}/>\r\n                        <h3 style={{fontSize: \"30px\", lineHeight: \"55px\"}}>Instant Messaging</h3>\r\n                        <li className=\"list-group-item\" style={{textAlign: \"center\"}}>Contact your clients instantly</li>\r\n                        <li className=\"list-group-item\" style={{textAlign: \"center\"}}>Easy to use inbuilt chat feature</li>\r\n                        \r\n\r\n                        <br/>\r\n                        <TimelineIcon style={{fontSize: \"65px\", float: \"left\"}}/>\r\n                        <h3 style={{fontSize: \"30px\", lineHeight: \"55px\"}}>Track Progress</h3>\r\n                        <li className=\"list-group-item\" style={{textAlign: \"center\"}}>See progress your clients are making during programs</li>\r\n                        <li className=\"list-group-item\" style={{textAlign: \"center\"}}></li>\r\n                        \r\n\r\n                    </div>\r\n\r\n                    <br/>\r\n\r\n                    <div className=\"homeBackground\">\r\n                        <DevicesIcon style={{fontSize: \"65px\", float: \"left\"}}/>\r\n                        <h3 style={{fontSize: \"30px\", lineHeight: \"60px\"}}>Cross-Platform</h3>\r\n                        <li className=\"list-group-item\" style={{textAlign: \"center\"}}>Use the application anywhere</li>\r\n                        <li className=\"list-group-item\" style={{textAlign: \"center\"}}>Works on any device</li>\r\n\r\n                        <br/>\r\n                        <WebIcon style={{fontSize: \"65px\", float: \"left\"}}/> \r\n                        <h3 style={{fontSize: \"25px\", lineHeight: \"60px\"}}>Web Application</h3>\r\n                        <li className=\"list-group-item\" style={{textAlign: \"center\"}}>Offline operation</li>\r\n                        <li className=\"list-group-item\" style={{textAlign: \"center\"}}>Fast and lightweight</li>\r\n\r\n                        <br/>\r\n                        <HttpsIcon style={{fontSize: \"65px\", float: \"left\"}}/> \r\n                        <h3 style={{fontSize: \"25px\", lineHeight: \"60px\"}}>Secure and Protected</h3>\r\n                        <li className=\"list-group-item\" style={{textAlign: \"center\"}}>Up-to-date with the latest security</li>\r\n                        <li className=\"list-group-item\" style={{textAlign: \"center\"}}>HTTPS ensures your information is protected</li>\r\n                    </div>\r\n                    <br/>\r\n                </section>\r\n            </div>\r\n        </Fragment>\r\n        )\r\n    }\r\n}","import React from 'react';\r\n// eslint-disable-next-line\r\nimport {BrowseRouter as Router, Route, Link} from 'react-router-dom'\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport ArrowBackIosIcon from '@material-ui/icons/ArrowBackIos';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    top: 0,\r\n    left: 0,\r\n    width: \"100%\",\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(0),\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n    textAlign: \"center\",\r\n  },\r\n}));\r\n\r\n\r\n\r\nexport default function ButtonAppBar(props) {\r\n\r\n    const classes = useStyles();\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n        <AppBar position=\"fixed\" style={{ background: '#57D957', boxShadow: 'none'}}>\r\n            <Toolbar>\r\n            {props.back? \r\n            <Link to={props.back} style={{color: \"#a3a3a3\"}}>\r\n            <IconButton edge=\"start\" color=\"inherit\" aria-label=\"ArrowBackIosIcon\">\r\n                <ArrowBackIosIcon />\r\n            </IconButton>\r\n            </Link>\r\n            \r\n            : null}\r\n            \r\n            <Typography variant=\"h6\" className={classes.title}>\r\n                {props.pageName}\r\n            </Typography>\r\n            </Toolbar>\r\n        </AppBar>\r\n        <br/><br/>\r\n        </div>\r\n    );\r\n}","import React, { Component, Fragment } from 'react';\r\nimport AppBar from './appBar.component'\r\n\r\nvar messages = []\r\nvar userTo;\r\nexport default class Messages extends Component{\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            text: \"\",\r\n            currentUser: this.props.location.currentUser,\r\n            userTo: this.props.location.userTo\r\n        }\r\n        this.onChangeText = this.onChangeText.bind(this);\r\n        try{\r\n            this.props.location.messages.map((message) =>  { this.markMessageAsRead(message)}) // change to foreach...\r\n        } catch (e){\r\n            window.location = '/messages'\r\n        }\r\n    }\r\n\r\n    componentDidMount(){\r\n        window.scrollTo(1000000, 1000000);\r\n\r\n        this.props.location.socket.onmessage = e => {\r\n            var messageData = JSON.parse(e.data)\r\n            if(messageData.messageType === \"messageSent\"){\r\n                // Push incoming message to array\r\n                e.preventDefault();\r\n                var newMessage = ({\r\n                    text: messageData.text,\r\n                    user:{\r\n                        firstName: messageData.userFrom[0].firstName,\r\n                        lastName: messageData.userFrom[0].lastName,\r\n                        email: messageData.userFrom[0].email\r\n                    },\r\n                    userTo: messageData.userTo.email,\r\n                    newMessage: true,\r\n                    _id: messageData._id\r\n                })\r\n                messages.push(newMessage)\r\n                this.setState({});\r\n                this.markMessageAsRead(newMessage);\r\n            }\r\n        }\r\n    }\r\n    componentDidUpdate(){\r\n        window.scrollTo(1000000, 1000000);\r\n    }\r\n\r\n\r\n\r\n    onChangeText(e) {\r\n        e.preventDefault();\r\n        this.setState({\r\n            text: e.target.value\r\n        });\r\n    }\r\n\r\n    async onSubmit(e) {\r\n        e.preventDefault();\r\n        if(this.state.text !== \"\")\r\n        {\r\n            \r\n            messages.push({\r\n                text: this.state.text,\r\n                userTo:{\r\n                    firstName: this.props.location.currentUser.firstName,\r\n                    lastName: this.props.location.currentUser.lastName,\r\n                    email: this.props.location.currentUser.email\r\n                }\r\n            })\r\n            await this.sendMessage();\r\n        }\r\n        this.setState({text: \"\"});\r\n    }\r\n\r\n    async sendMessage(){\r\n        // Creating JSON string of page state\r\n        const messageData = JSON.stringify(this.state)\r\n        var messageID;\r\n        await fetch('/api/messages', {\r\n            method: 'POST',\r\n            credentials: 'include',\r\n            headers: {\r\n                Accept: \"application/json\",\r\n                \"Content-Type\": \"application/json\",\r\n                \"Access-Control-Allow-Credentials\": true\r\n              },\r\n              body: messageData\r\n        }).then(async res => {\r\n            await res.json().then(async log => {\r\n                messageID = log._id\r\n            });\r\n            }).catch(error => console.log(error))\r\n\r\n        this.props.location.socket.send(JSON.stringify({\r\n            messageType: \"messageSent\",\r\n            _id: messageID,\r\n            text: this.state.text,\r\n            userTo: this.state.userTo,\r\n            userFrom: this.state.currentUser\r\n        }))\r\n    }\r\n\r\n    markMessageAsRead(message){\r\n        const messageData = JSON.stringify(message)\r\n        if(message.userTo === this.state.currentUser[0].email || message.newMessage){\r\n            fetch('/api/message/read', {\r\n                method: 'POST',\r\n                credentials: 'include',\r\n                headers: {\r\n                    Accept: \"application/json\",\r\n                    \"Content-Type\": \"application/json\",\r\n                    \"Access-Control-Allow-Credentials\": true\r\n                  },\r\n                body: messageData\r\n            })\r\n        }\r\n\r\n    }\r\n\r\n    renderMessage(message){\r\n        var classname, messageFrom;\r\n        if(message.userTo === this.props.location.currentUser[0].email){\r\n            // message is being sent to me\r\n            classname = \"notCurrentUser\";\r\n            messageFrom = this.state.userTo;\r\n            \r\n        } else {\r\n            // message is being sent from me\r\n            classname = \"currentUser\";\r\n            messageFrom = this.props.location.currentUser[0];\r\n\r\n        }\r\n        return (\r\n                <div className={classname}>\r\n\r\n                    <div className=\"messageContent\">\r\n                        <div className=\"username\">\r\n                            {this.captitaliseFirstLetter(messageFrom.firstName)} {this.captitaliseFirstLetter(messageFrom.lastName)}\r\n                        </div>\r\n                        <div className=\"text\">\r\n                            {message.text}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n        )\r\n    }\r\n\r\n    captitaliseFirstLetter(string){\r\n        return string.charAt(0).toUpperCase() + string.slice(1);\r\n    }\r\n\r\n    render() {\r\n        messages = this.props.location.messages;\r\n        userTo = this.props.location.userTo;\r\n        return (\r\n            <Fragment>\r\n                <AppBar width=\"100%\" pageName={this.captitaliseFirstLetter(userTo.firstName) + \" \" + this.captitaliseFirstLetter(userTo.lastName)} back=\"/messages\"/>\r\n\r\n                    <div className=\"messageList\">\r\n                        {messages.map((message, index) => <ul key={index}>{this.renderMessage(message)}</ul>)}\r\n                    </div>\r\n                    <br/><br/><br/><br/><br/><br/>\r\n                    <div className=\"chatInput\">\r\n                        <form className=\"chatInputForm\" onSubmit={e => this.onSubmit(e)}  >\r\n                            <input\r\n                                className = \"form-control\"\r\n                                onChange={this.onChangeText}\r\n                                value = {this.state.text}\r\n                                type = \"text\"\r\n                                placeholder = \"Enter your message here\"\r\n                            />\r\n                            <button className=\"sendButton\" type=\"submit\">Send</button>\r\n                        </form>\r\n                    </div>\r\n                    <div className=\"chatHide\"></div>\r\n                </Fragment>\r\n        )\r\n    }\r\n}","import React, { Component, Fragment } from 'react';\r\nimport AppBar from './appBar.component'\r\n\r\n\r\nexport default class Home extends Component{\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state ={\r\n            \r\n        }\r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n            <Fragment>\r\n                <AppBar width=\"100%\" pageName=\"HOME\"/>\r\n                \r\n              \r\n            </Fragment>\r\n        )\r\n    }\r\n}","import React, { Component } from 'react';\r\n\r\nexport default class Login extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.onChangeFirstName = this.onChangeFirstName.bind(this);\r\n        this.onChangeLastName = this.onChangeLastName.bind(this);\r\n        this.onChangeEmail = this.onChangeEmail.bind(this);\r\n        this.onChangePassword = this.onChangePassword.bind(this);\r\n        this.changePtTrue = this.changePtTrue.bind(this);\r\n        this.changePtFalse = this.changePtFalse.bind(this);\r\n        this.onSubmit = this.onSubmit.bind(this);\r\n\r\n        this.state = {\r\n            firstName: '',\r\n            lastName: '',\r\n            email: '',\r\n            password: '',\r\n            errorMessage: '',\r\n            showError: false,\r\n            ptBool: false\r\n        }\r\n    }\r\n\r\n    onChangeFirstName(e){\r\n        this.setState({\r\n            firstName: e.target.value\r\n        });\r\n    }\r\n\r\n    onChangeLastName(e){\r\n        this.setState({\r\n            lastName: e.target.value\r\n        });\r\n    }\r\n\r\n    onChangeEmail(e) {\r\n        this.setState({\r\n            email: e.target.value\r\n        });\r\n    }\r\n\r\n    onChangePassword(e) {\r\n        this.setState({\r\n            password: e.target.value\r\n        });\r\n    }\r\n\r\n    changePtTrue() {\r\n        this.setState({\r\n            ptBool: true\r\n        });\r\n    }\r\n\r\n    changePtFalse(){\r\n        this.setState({\r\n            ptBool: false\r\n        });\r\n    }\r\n\r\n    onSubmit(e) {\r\n        e.preventDefault();\r\n        const registerData = JSON.stringify(this.state);\r\n\r\n        fetch('/api/register', {\r\n            method: 'POST',\r\n            credentials: 'include',\r\n            headers: {'Content-Type': 'application/json'},\r\n            body: registerData\r\n        }).then(res => {\r\n            res.json().then(log => {\r\n                if (log.redirect === '/') {\r\n                    window.location = '/'\r\n                } else {                  \r\n                    this.setState({errorMessage: \"Email is already in use\"});\r\n                    this.setState({showError: true})\r\n                }\r\n            });\r\n            }).catch(error => console.log(error))\r\n\r\n        this.setState({\r\n            email: '',\r\n            password: '',\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            \r\n            <div style={{marginTop: 10}}>\r\n                <div className=\"fullscreen-bg\">\r\n                    <video autoPlay loop muted playsInline poster=\"\" className=\"fullscreen-bg__video\">\r\n                        <source src=\"/login-video.mp4\" type=\"video/mp4\"/>\r\n                    </video>\r\n                </div>\r\n\r\n                <p className=\"appTitle\">\r\n                    <img src=\"logo512.png\" alt=\"logo\" height=\"60\" width=\"60\"/>\r\n                    CloudPT\r\n                </p><br/>\r\n\r\n                <div className=\"homeBackground\">\r\n                <h3>CREATE YOUR ACCOUNT</h3>\r\n                <form onSubmit={this.onSubmit}>\r\n                    \r\n                    { this.state.showError?\r\n                        <div>\r\n                        <h4 className=\"alert alert-danger alert-dismissible\" role=\"alert\"> { this.state.errorMessage } </h4>\r\n                        </div>\r\n                    : null\r\n                    }\r\n\r\n                    <div className=\"form-group\"> \r\n                        <input  type=\"text\"\r\n                                id=\"firstName\"\r\n                                className=\"form-control\"\r\n                                placeholder=\"First Name\"\r\n                                value={this.state.firstName}\r\n                                onChange={this.onChangeFirstName}\r\n                                required\r\n                        />\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                        <input  type=\"text\"\r\n                                id=\"lastName\"\r\n                                className=\"form-control\"\r\n                                placeholder=\"Last Name\"\r\n                                value={this.state.lastName}\r\n                                onChange={this.onChangeLastName}\r\n                                required\r\n                        />\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                        <input  type=\"email\"\r\n                                id=\"email\"\r\n                                className=\"form-control\"\r\n                                placeholder=\"Email Address\"\r\n                                value={this.state.email}\r\n                                onChange={this.onChangeEmail}\r\n                                required\r\n                        />\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <input  type=\"password\" \r\n                                id=\"password\"\r\n                                className=\"form-control\"\r\n                                placeholder=\"Password\"\r\n                                value={this.state.password}\r\n                                onChange={this.onChangePassword}\r\n                                required\r\n                        />\r\n                    </div>\r\n                    <h5>Do you want to register as a personal trainer?<p/>\r\n                    <div className=\"btn-group btn-group-toggle container\" data-toggle=\"buttons\">\r\n                    \r\n                        <label className=\"btn btn-light active\" >\r\n                            <input type=\"radio\" onClick={this.changePtTrue}/>Yes\r\n                        </label>\r\n                        <label className=\"btn btn-light active\" >\r\n                            <input type=\"radio\" onClick={this.changePtFalse} defaultChecked/>No\r\n                        </label>\r\n                    </div>\r\n                    </h5>\r\n                    \r\n                    <div className=\"form-group\">\r\n                    <br/>\r\n                        <input type=\"submit\" value=\"REGISTER\" className=\"btn btn-success container\" />\r\n                    </div>\r\n                </form>\r\n                </div>\r\n                <br/>\r\n                <div>\r\n                        <a href=\"/\" className=\"btn btn-primary container\">LOGIN HERE</a>\r\n                    </div>\r\n            </div>\r\n        )\r\n    }\r\n}","import React, { Component, Fragment } from 'react';\r\nimport AppBar from './appBar.component'\r\n\r\n\r\nexport default class Workout extends Component{\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            \r\n        }\r\n\r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n            <Fragment>\r\n                <AppBar width=\"100%\" pageName=\"WORKOUTS\"/>\r\n\r\n            </Fragment>\r\n        )\r\n    }\r\n}","import React, { Component, Fragment } from 'react';\r\n// eslint-disable-next-line\r\nimport {BrowseRouter as Router, Route, Link, Redirect} from 'react-router-dom'\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport AppBar from './appBar.component'\r\nimport FaceIcon from '@material-ui/icons/Face';\r\n\r\nvar socket = \"\";\r\nexport default class Messages extends Component{\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            messages: \"\",\r\n            currentUser: \"\",\r\n            email: \"\",\r\n            getUser: \"\",\r\n            showError: false,\r\n            errorMsg: \"\",\r\n            userList: [],\r\n            userListLoaded: false,\r\n        }\r\n        this.onChangeEmail = this.onChangeEmail.bind(this);\r\n        this.startChat = this.startChat.bind(this);\r\n        this.loadMessages = this.loadMessages.bind(this);\r\n        if(socket === \"\"){ socket = new WebSocket(\"ws://localhost:4000/\") }\r\n    }\r\n\r\n    async componentDidMount(){\r\n        if(!this.state.userListLoaded){\r\n            await this.loadMessages();\r\n        }\r\n        \r\n\r\n        //Assign websocket to current user\r\n        if(this.state.currentUser !== \"\"){\r\n            socket.send(JSON.stringify({\r\n                messageType: \"email\",\r\n                email: this.state.currentUser[0].email \r\n            }));\r\n            \r\n            socket.onopen = (e) => {\r\n                socket.send(JSON.stringify({\r\n                    messageType: \"email\",\r\n                    email: this.state.currentUser[0].email \r\n                })); \r\n            }\r\n        }\r\n\r\n\r\n\r\n\r\n        socket.onmessage = async e => {\r\n            var messageData = JSON.parse(e.data);\r\n\r\n            if(messageData.messageType === \"messageSent\"){\r\n                this.resetStates();\r\n                this.loadMessages();\r\n            }\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.setState({\r\n            userListLoaded: false\r\n        })\r\n    }\r\n\r\n    async loadMessages(){\r\n        this.resetStates();\r\n        // Get all messages\r\n        await this.getMessages();\r\n        // Get all users\r\n        await this.getAllUsers();\r\n        // Create array of lists for all users in allUsers list\r\n        this.createMessageLists();\r\n        // Show list when messages have been fetched\r\n        this.setState({\r\n            userListLoaded: true\r\n        });\r\n    }\r\n\r\n    resetStates(){\r\n        this.setState({\r\n            messages: \"\",\r\n            currentUser: \"\",\r\n            email: \"\",\r\n            getUser: \"\",\r\n            showError: false,\r\n            errorMsg: \"\",\r\n            userList:[],\r\n            userListLoaded: false,\r\n        });\r\n    }\r\n\r\n    onChangeEmail(e) {\r\n        this.setState({\r\n            email: e.target.value\r\n        });\r\n    }\r\n\r\n    async getAllUsers(){\r\n        if(this.state.currentUser !== \"\" && this.state.messages !== \"\"){\r\n            for (var i = 0; i < this.state.messages.length; i++){\r\n                var inList = false;\r\n                \r\n                for(var j = 0; j < this.state.userList.length; j++){\r\n                    if(this.state.userList[j].email === this.state.messages[i].userTo || this.state.userList[j].email === this.state.messages[i].userFrom){\r\n                        inList = true;\r\n                    }\r\n                }\r\n                \r\n                if (!inList){\r\n                    if(this.state.messages[i].userTo !== this.state.currentUser[0].email){\r\n                        await this.getUser(this.state.messages[i].userTo)\r\n                        if(this.state.getUser !== null){\r\n                            this.state.userList.push(this.state.getUser)\r\n                        }\r\n                        \r\n                    } else {\r\n                        await this.getUser(this.state.messages[i].userFrom)\r\n                        if(this.state.getUser !== null){\r\n                            this.state.userList.push(this.state.getUser)\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    createMessageLists(){\r\n        for (var i = 0; i < this.state.userList.length; i++){\r\n            var newUserList = this.state.userList;\r\n            newUserList[i] = [newUserList[i], []]\r\n            this.setState({\r\n                userList: newUserList\r\n            })\r\n            for(var j = 0; j < this.state.messages.length; j++){\r\n                if (this.state.messages[j].userTo === this.state.userList[i][0].email || this.state.messages[j].userFrom === this.state.userList[i][0].email){\r\n                    var newUserList2 = this.state.userList;\r\n                    newUserList2[i][1].push(this.state.messages[j])\r\n                    this.setState({\r\n                        userList: newUserList2\r\n                    })\r\n                }\r\n            }\r\n        }\r\n        this.state.userList.sort((a, b) => new Date((b[1])[b[1].length - 1].date) - new Date((a[1])[a[1].length - 1].date))\r\n    }\r\n\r\n    async startChat(e){\r\n        e.preventDefault();\r\n        \r\n        // Get user for new chat and make sure user exists\r\n        await this.getUser(this.state.email)\r\n        if(this.state.getUser.email != null){\r\n            if(this.state.getUser.email !== this.state.currentUser[0].email){\r\n                if (this.state.userList.length === 0){\r\n                    // Start new chat\r\n                    this.props.history.push({\r\n                        pathname: '/chat',\r\n                        messages: [], \r\n                        userTo: this.state.getUser,\r\n                        currentUser: this.state.currentUser,\r\n                        socket: socket\r\n                    });\r\n                }\r\n                for (var i = 0; i < this.state.userList.length; i++){\r\n                    if (this.state.userList[i][0].email === this.state.email){\r\n                        // Open already existing chat window\r\n                        this.props.history.push({\r\n                            pathname: '/chat',\r\n                            messages: this.state.userList[i][1], \r\n                            userTo: this.state.userList[i][0],\r\n                            currentUser: this.state.currentUser,\r\n                            socket: socket\r\n                        });\r\n                    } else {\r\n                        // Start new chat\r\n                        this.props.history.push({\r\n                            pathname: '/chat',\r\n                            messages: [], \r\n                            userTo: this.state.getUser,\r\n                            currentUser: this.state.currentUser,\r\n                            socket: socket\r\n                        });\r\n                    }\r\n                }\r\n            // Show error if attempting to start conversation with yourself\r\n            } else {\r\n                this.setState({\r\n                    showError: true,\r\n                    errorMsg: \"You can't start a chat with yourself!\",\r\n                    email: \"\"\r\n                })\r\n            }\r\n        // If user does not exist show error\r\n        } else {\r\n            this.setState({\r\n                showError: true,\r\n                errorMsg: \"There is no user with that email address!\",\r\n                email: \"\"\r\n            })\r\n        }\r\n    }\r\n\r\n    async getUser(userEmail){\r\n        // Checking user exists\r\n        const email = JSON.stringify({email: userEmail})\r\n        this.setState({\r\n            getUser: null\r\n        })\r\n        await fetch('/api/user', {\r\n            method: 'POST',\r\n            credentials: 'include',\r\n            headers: {\r\n                Accept: \"application/json\",\r\n                \"Content-Type\": \"application/json\",\r\n                \"Access-Control-Allow-Credentials\": true\r\n              },\r\n              body: email\r\n        }).then(async res => {\r\n            await res.json().then(async log => {\r\n                if(log.user != null){\r\n                    this.setState({\r\n                        getUser: log.user\r\n                    })\r\n                }\r\n            });\r\n            }).catch(error => console.log(error))\r\n    }\r\n\r\n    async getMessages(){\r\n        await fetch('/api/messages', {\r\n            method: 'GET',\r\n            credentials: 'include',\r\n            headers: {\r\n                Accept: \"application/json\",\r\n                \"Content-Type\": \"application/json\",\r\n                \"Access-Control-Allow-Credentials\": true\r\n              }\r\n        }).then(async res => {\r\n            await res.json().then(log => {\r\n                this.setState({\r\n                    messages: log.messages,\r\n                    currentUser: log.currentUser\r\n                })\r\n            });\r\n            }).catch(error => console.log(error))\r\n    }\r\n\r\n    captitaliseFirstLetter(string){\r\n        return string.charAt(0).toUpperCase() + string.slice(1);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Fragment>\r\n                <AppBar width=\"100%\" pageName=\"MESSAGES\"/>\r\n\r\n                { this.state.showError?\r\n                    <h6 className=\"alert alert-danger alert-dismissible\" role=\"alert\"> {this.state.errorMsg} </h6>\r\n                :   null  \r\n                }\r\n\r\n                <button type=\"button\" className=\"btn btn-primary container\" data-toggle=\"modal\" data-target=\"#newChatModal\">Start New Chat</button>\r\n\r\n                <List  className=\"userList\" >\r\n                    {this.state.userListLoaded?  this.state.userList.map((users, index) => {\r\n                        return (\r\n                            <ListItem key={index} style={(index + 1) % 2? {background: \"#e3e3e3\"}:{background: \"white\"}}>\r\n                                \r\n                                <ListItemIcon>\r\n                                    <FaceIcon/>\r\n                                </ListItemIcon>\r\n                                <Link to={{pathname: '/chat', messages: users[1], userTo: users[0], currentUser: this.state.currentUser, socket: socket}}>\r\n\r\n                                {!(users[1])[users[1].length - 1].read && (users[1])[users[1].length - 1].userTo === this.state.currentUser[0].email ? \r\n                                <ListItemText style={{textShadow: \"0px 0px 1px #333\"}} primary={this.captitaliseFirstLetter(users[0].firstName) + \" \" + this.captitaliseFirstLetter(users[0].lastName)} secondary={(users[1])[users[1].length - 1].text}/>\r\n                                : <ListItemText primary={this.captitaliseFirstLetter(users[0].firstName) + \" \" + this.captitaliseFirstLetter(users[0].lastName)} secondary={(users[1])[users[1].length - 1].text}/>}\r\n                                \r\n                                </Link>         \r\n                            </ListItem>\r\n                        )\r\n                        }): null}\r\n                </List>\r\n\r\n\r\n                <div className=\"container\">\r\n                    <div className=\"modal fade\" id=\"newChatModal\">\r\n                        <div className=\"modal-dialog\">\r\n                        <br/><br/><br/>\r\n                            <div className=\"modal-content\">\r\n                                <div className=\"modal-header\">\r\n                                    <h4 className=\"modal-title\">Start New Chat</h4>\r\n                                    <button type=\"button\" className=\"close\" data-dismiss=\"modal\">&times;</button>\r\n                                </div>\r\n                                <div className=\"modal-body\">\r\n                                    Enter the users email address below:\r\n                                    <input  type=\"email\"\r\n                                        id=\"email\"\r\n                                        name=\"email\"\r\n                                        className=\"form-control\"\r\n                                        placeholder=\"Email Address\"\r\n                                        value={this.state.email}\r\n                                        onChange={this.onChangeEmail}\r\n                                        required\r\n                                    />\r\n                                </div>\r\n                                <div className=\"modal-footer\">\r\n                                    <button type=\"button\" className=\"btn btn-primary\"  data-dismiss=\"modal\" onClick={this.startChat}>Start Chat</button>\r\n                                    <button type=\"button\" className=\"btn btn-danger\" data-dismiss=\"modal\">Close</button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </Fragment>\r\n        )\r\n    }\r\n}","import React, { Component, Fragment } from 'react';\r\n// eslint-disable-next-line\r\nimport {BrowseRouter as Router, Route, Link} from 'react-router-dom'\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport AppBar from './appBar.component'\r\n\r\nfunction ListItemLink(props) {\r\n    return <ListItem button component=\"a\" {...props} />;\r\n}\r\n\r\nexport default class Account extends Component{\r\n    \r\n    constructor(props) {\r\n        super(props);\r\n        this.onChange = this.onChange.bind(this)\r\n\r\n        this.state = {\r\n            auth: false\r\n          }\r\n        this.onChange = this.onChange.bind(this)\r\n    }\r\n\r\n    onChange(e) {\r\n        this.setState({\r\n            auth: e.target.value\r\n        });\r\n      }\r\n\r\n    componentDidMount() {\r\n            \r\n      }\r\n\r\n\r\n    logout() {\r\n        fetch('/api/logout', {\r\n                method: 'GET',\r\n                credentials: 'include',\r\n                headers: {\r\n                    Accept: \"application/json\",\r\n                    \"Content-Type\": \"application/json\",\r\n                    \"Access-Control-Allow-Credentials\": true\r\n                  }\r\n                }\r\n            ).then(function(res) {\r\n                res.json().then(log => {\r\n                    if (log.logout === true) {\r\n                        //user = res.data.email;\r\n                        window.location = '/'\r\n                    } else {\r\n                        // TO DO - didn't log in\r\n                    }\r\n                });\r\n                }).catch(error => console.log(error))\r\n    }\r\n    \r\n\r\n    \r\n    \r\n    render() {\r\n        const classes = this.props;\r\n        return (\r\n            <Fragment>\r\n                <AppBar width=\"100%\" pageName=\"ACCOUNT\"/>\r\n\r\n                <div className={classes.root}>\r\n                <List component=\"nav\" aria-label=\"main mailbox folders\">\r\n                <Link to={'/account/weight'}>\r\n                <ListItem>\r\n                {/* <ListItemIcon>\r\n                    \r\n                </ListItemIcon> */}\r\n                <ListItemText primary=\"Update Weight\" />\r\n                </ListItem>\r\n                </Link>\r\n\r\n                <ListItem button>\r\n\r\n                <ListItemText primary=\"Update Height\" />\r\n                </ListItem>\r\n\r\n                <ListItem button>\r\n\r\n                <ListItemText primary=\"Update User Details\" />\r\n                </ListItem>\r\n                \r\n                </List>\r\n                <Divider />\r\n                <List component=\"nav\" aria-label=\"secondary mailbox folders\">\r\n                    <ListItem button>\r\n                    <ListItemText primary=\"Trash\" />\r\n                    </ListItem>\r\n                    \r\n                    <ListItemLink>\r\n                        \r\n                    <ListItemText primary=\"Spam\" />\r\n                    </ListItemLink>\r\n                    \r\n                </List>\r\n\r\n\r\n                <div className=\"form-group\">\r\n                        <input type=\"button\" value=\"Logout\" className=\"btn btn-primary\" onClick={this.logout} />\r\n                </div>\r\n            </div>\r\n\r\n               \r\n            </Fragment>\r\n        )\r\n    }\r\n}","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport BottomNavigation from '@material-ui/core/BottomNavigation';\r\nimport BottomNavigationAction from '@material-ui/core/BottomNavigationAction';\r\nimport { useHistory } from 'react-router-dom'\r\nimport HomeIcon from '@material-ui/icons/Home';\r\nimport FitnessCenterIcon from '@material-ui/icons/FitnessCenter';\r\nimport ChatIcon from '@material-ui/icons/Chat';\r\nimport PersonIcon from '@material-ui/icons/Person';\r\n\r\n\r\nconst useStyles = makeStyles({\r\n    root: {\r\n      top: 'auto',\r\n      width: '100%',\r\n      position: 'fixed',\r\n      bottom: 0,\r\n      left: '0%',\r\n      zIndex: 100,\r\n      color: \"blue\",\r\n    },\r\n  });\r\n  \r\n  export default function LabelBottomNavigation() {\r\n    const classes = useStyles();\r\n    const [value, setValue] = React.useState('home');\r\n    const history = useHistory();\r\n  \r\n    const handleChange = (event, newValue) => {\r\n        history.push(`/${newValue}`);\r\n        setValue(newValue)\r\n    };\r\n  \r\n    return (\r\n      <BottomNavigation value={value} onChange={handleChange}  className={classes.root} showLabels>\r\n        <BottomNavigationAction label=\"Home\" value=\"home\"  icon={<HomeIcon />} />\r\n        <BottomNavigationAction label=\"Workouts\" value=\"workout\"  icon={<FitnessCenterIcon />}/>\r\n        <BottomNavigationAction label=\"Messages\" value=\"messages\"  icon={<ChatIcon />} />\r\n        <BottomNavigationAction label=\"Account\" value=\"account\" icon={<PersonIcon />} />\r\n      </BottomNavigation>\r\n    );\r\n  }","import React, { Component, Fragment } from 'react';\r\n// eslint-disable-next-line\r\nimport {BrowseRouter as Router, Route, Link} from 'react-router-dom'\r\nimport SlideRuler from 'slide-ruler';\r\nimport { List, ListItem, ListItemText, IconButton, ListItemSecondaryAction } from '@material-ui/core';\r\nimport AppBar from './appBar.component'\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\n\r\nexport default class Weight extends Component{\r\n    \r\n    constructor(props) {\r\n        super(props);\r\n        \r\n        this.state = {\r\n            weight: 60,\r\n            height: 150,\r\n            userHeight: false,\r\n            date: new Date(),\r\n        };\r\n        this.handleValueWeight = this.handleValueWeight.bind(this);\r\n        this.handleValueHeight = this.handleValueHeight.bind(this);\r\n        this.renderSlideRulerWeight = this.renderSlideRulerWeight.bind(this);\r\n        this.renderSlideRulerHeight = this.renderSlideRulerHeight.bind(this);\r\n        this.addWeight = this.addWeight.bind(this);\r\n        this.getWeight = this.getWeight.bind(this);\r\n        this.deleteWeight = this.deleteWeight.bind(this);\r\n        this.updateHeight = this.updateHeight.bind(this);\r\n        this.getHeight = this.getHeight.bind(this);\r\n    }\r\n\r\n      handleValueWeight(value){\r\n        this.setState({weight: value});\r\n      }\r\n      handleValueHeight(value){\r\n        this.setState({height: value});\r\n      }\r\n\r\n      renderSlideRulerWeight(){\r\n        return new SlideRuler({\r\n            el: this.refs.slideRulerWeight,\r\n            maxValue: 250,\r\n            minValue: 30,\r\n            currentValue: 80,\r\n            handleValue: this.handleValueWeight,\r\n            precision: 0.1,\r\n            fontColor: \"#FFFFFF\"\r\n        });\r\n      }\r\n      renderSlideRulerHeight(){\r\n        return new SlideRuler({\r\n            el: this.refs.slideRulerHeight,\r\n            maxValue: 250,\r\n            minValue: 30,\r\n            currentValue: 150,\r\n            handleValue: this.handleValueHeight,\r\n            precision: 0.5,\r\n            fontColor: \"#FFFFFF\"\r\n        });\r\n      }\r\n\r\n      componentDidMount(){\r\n          this.getWeight();\r\n          this.getHeight();\r\n          this.renderSlideRulerWeight();\r\n          this.renderSlideRulerHeight();\r\n      }\r\n    \r\n    \r\n    getWeight(e){\r\n        fetch('/api/weight/', {\r\n            method: 'GET',\r\n            credentials: 'include',\r\n            headers: {\r\n                Accept: \"application/json\",\r\n                \"Content-Type\": \"application/json\",\r\n                \"Access-Control-Allow-Credentials\": true\r\n              }\r\n            }\r\n        ).then(res => {\r\n            res.json().then(async log => {\r\n                this.setState({allWeights: log.weights})\r\n            });\r\n            }).catch(error => console.log(error))\r\n    }\r\n    \r\n    addWeight(e){\r\n        const weightData = JSON.stringify(this.state)\r\n\r\n        fetch('/api/weight/', {\r\n            method: 'POST',\r\n            credentials: 'include',\r\n            headers: {\r\n                Accept: \"application/json\",\r\n                \"Content-Type\": \"application/json\",\r\n                \"Access-Control-Allow-Credentials\": true\r\n              },\r\n            body: weightData\r\n            }\r\n        ).then(res => {\r\n            res.json().then(log => {\r\n                 if (log.redirect === '/home') {\r\n                    //this.setState({auth: true});\r\n                 } else {\r\n                    // window.location = \"/\"\r\n                 }\r\n            });\r\n            }).catch(error => console.log(error))\r\n            window.location.reload();\r\n      }\r\n\r\n      deleteWeight(weightData){\r\n        fetch('/api/weight/' + weightData._id, {\r\n            method: 'DELETE',\r\n            credentials: 'include',\r\n            headers: {\r\n                Accept: \"application/json\",\r\n                \"Content-Type\": \"application/json\",\r\n                \"Access-Control-Allow-Credentials\": true\r\n              }\r\n            }\r\n        ).then(res => {\r\n            res.json().then(log => {\r\n                 if (log.redirect === '/home') {\r\n                    //this.setState({auth: true});\r\n                 } else {\r\n                    // window.location = \"/\"\r\n                 }\r\n            });\r\n            }).catch(error => console.log(error))\r\n            window.location.reload();\r\n      }\r\n\r\n      updateHeight(e){\r\n        const heightData = JSON.stringify(this.state)\r\n\r\n        fetch('/api/height/', {\r\n            method: 'POST',\r\n            credentials: 'include',\r\n            headers: {\r\n                Accept: \"application/json\",\r\n                \"Content-Type\": \"application/json\",\r\n                \"Access-Control-Allow-Credentials\": true\r\n              },\r\n            body: heightData\r\n            }\r\n        ).then(res => {\r\n            res.json().then(log => {\r\n                 if (log.redirect === '/home') {\r\n                    //this.setState({auth: true});\r\n                 } else {\r\n                    // window.location = \"/\"\r\n                 }\r\n            });\r\n            }).catch(error => console.log(error))\r\n            window.location.reload();\r\n      }\r\n\r\n      getHeight(){\r\n        fetch('/api/height/', {\r\n            method: 'GET',\r\n            credentials: 'include',\r\n            headers: {\r\n                Accept: \"application/json\",\r\n                \"Content-Type\": \"application/json\",\r\n                \"Access-Control-Allow-Credentials\": true\r\n              }\r\n            }\r\n        ).then(res => {\r\n            res.json().then(async log => {\r\n                this.setState({userHeight: log.height})\r\n            });\r\n            }).catch(error => console.log(error))\r\n      }\r\n\r\n      \r\n    render() {\r\n        return (\r\n            \r\n       \r\n            <Fragment>\r\n                <AppBar width=\"100%\" pageName=\"HEIGHT & WEIGHT\" back=\"/account\"/>\r\n                \r\n            \r\n\r\n            <h4>Current Height: {this.state.userHeight? <b>{this.state.userHeight} cm</b> : null}</h4>\r\n            <button type=\"button\" className=\"btn btn-primary container\" data-toggle=\"modal\" data-target=\"#heightModal\">Update Height</button>\r\n            <br/><br/>\r\n            \r\n\r\n            <h4>Current Weight: {} KG</h4>\r\n            <button type=\"button\" className=\"btn btn-primary container\" data-toggle=\"modal\" data-target=\"#weightModal\">Update Weight</button>\r\n\r\n            <div style={{height:\"auto\"}}>\r\n            <List  className=\"weightList\">\r\n                    {this.state.allWeights && this.state.allWeights.map((weightsData, index) => {\r\n                        return (\r\n                            <ListItem key={index}>\r\n                                <ListItemText>{weightsData.weight} kg - {new Date(weightsData.date).getDate()}/{new Date(weightsData.date).getMonth()}/{new Date(weightsData.date).getFullYear()}</ListItemText>\r\n                                <ListItemSecondaryAction onClick={() => this.deleteWeight(weightsData)}>\r\n                                    <IconButton edge=\"end\">\r\n                                        <DeleteIcon />\r\n                                    </IconButton>\r\n                                </ListItemSecondaryAction>\r\n                            </ListItem>\r\n                        )\r\n                        })}\r\n                </List>\r\n            </div>\r\n\r\n\r\n            <div className=\"container\">\r\n            <div className=\"modal fade\" id=\"weightModal\">\r\n                <div className=\"modal-dialog\">\r\n                <br/><br/><br/>\r\n                <div className=\"modal-content\">\r\n                    <div className=\"modal-header\">\r\n                    <h4 className=\"modal-title\">Manual Weight Input</h4>\r\n                    <button type=\"button\" className=\"close\" data-dismiss=\"modal\">&times;</button>\r\n                    </div>\r\n                    <div className=\"modal-body\">\r\n                        <div ref='slideRulerWeight' className=\"ruler\"></div>\r\n                        Weight: {this.state.weight} KG\r\n                    </div>\r\n                    <div className=\"modal-footer\">\r\n                    <button type=\"button\" className=\"btn btn-primary\" data-dismiss=\"modal\" onClick={this.addWeight}>Add Weight</button>\r\n                    <button type=\"button\" className=\"btn btn-danger\" data-dismiss=\"modal\">Close</button>\r\n                    </div>\r\n                </div>\r\n                </div>\r\n            </div>\r\n            </div>\r\n            <div className=\"modal fade\" id=\"heightModal\">\r\n                <div className=\"modal-dialog\">\r\n                <br/><br/><br/>\r\n                <div className=\"modal-content\">\r\n                    <div className=\"modal-header\">\r\n                    <h4 className=\"modal-title\">Manual Height Input</h4>\r\n                    <button type=\"button\" className=\"close\" data-dismiss=\"modal\">&times;</button>\r\n                    </div>\r\n                    <div className=\"modal-body\">\r\n                        <div ref='slideRulerHeight' className=\"ruler\"></div>\r\n                        Height: {this.state.height} CM\r\n                    </div>\r\n                    <div className=\"modal-footer\">\r\n                    <button type=\"button\" className=\"btn btn-primary\" data-dismiss=\"modal\" onClick={this.updateHeight}>Update Height</button>\r\n                    <button type=\"button\" className=\"btn btn-danger\" data-dismiss=\"modal\">Close</button>\r\n                    </div>\r\n                </div>\r\n                </div>\r\n            </div>\r\n            <br/> <br/> <br/>\r\n            \r\n            </Fragment>\r\n        )\r\n    }\r\n}","import React, { Component } from \"react\";\r\nimport { BrowserRouter as Router, Route, Redirect } from \"react-router-dom\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\n\r\nimport Login from \"./components/login.component\";\r\nimport Home from \"./components/home.component\";\r\nimport Register from \"./components/register.component\";\r\nimport Workout from \"./components/workout.component\";\r\nimport Messages from \"./components/messages.component\";\r\nimport Chat from \"./components/chat.component\";\r\nimport Account from \"./components/account.component\";\r\nimport BottomNav from  './components/bottomNavigation.component';\r\nimport Weight from './components/weight.component';\r\n\r\nfunction PrivateRoute ({component: Component, authed, wasInitialised, ...rest}) {\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={(props) => authed === true\r\n        ? <Component {...props} />\r\n        : !wasInitialised? \"\"\r\n        : <Redirect to={{pathname: '/'}} />}\r\n    />\r\n  )\r\n}\r\n\r\nclass App extends Component {\r\n  constructor(props){\r\n    super(props);\r\n\r\n    this.state = {\r\n      auth: false,\r\n      ptBool: false,\r\n      wasInitialised: false,\r\n    }\r\n    this.checkAuth()\r\n  }\r\n\r\n  async componentDidMount(){\r\n    //await this.checkAuth();\r\n  }\r\n\r\n  async checkAuth() {\r\n   await fetch('/api/auth/', {\r\n            method: 'GET',\r\n            credentials: 'include',\r\n            headers: {\r\n                Accept: \"application/json\",\r\n                \"Content-Type\": \"application/json\",\r\n                \"Access-Control-Allow-Credentials\": true\r\n              }\r\n            }\r\n        ).then(async res => {\r\n            await res.json().then(log => {\r\n                if (log.redirect === \"/home\") {\r\n                  this.setState({\r\n                    auth: true,\r\n                    ptBool: log.ptBool, \r\n                    wasInitialised: true\r\n                  });\r\n               } else {\r\n                  this.setState({\r\n                    auth: false, \r\n                    wasInitialised: true\r\n                  });\r\n               }\r\n            });\r\n            }).catch(error => console.log(error))\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Router>\r\n        <div className=\"container\">\r\n          <div>\r\n          {this.state.auth? <BottomNav /> : null}           \r\n          </div>\r\n          <br/>\r\n          <Route path=\"/\" exact component={Login}/>\r\n          <Route path=\"/register\" exact component={Register}/>\r\n          {this.state.ptBool?\r\n          <PrivateRoute authed={this.state.auth} wasInitialised={this.state.wasInitialised} exact path='/workout' component={Workout} />\r\n          :\r\n          <PrivateRoute authed={this.state.auth} wasInitialised={this.state.wasInitialised} exact path='/workout' component={Home} />\r\n          \r\n          }\r\n          <PrivateRoute authed={this.state.auth} wasInitialised={this.state.wasInitialised} exact path='/home' component={Home} />\r\n          \r\n          <PrivateRoute authed={this.state.auth} wasInitialised={this.state.wasInitialised} exact path='/messages' component={Messages} />\r\n          <PrivateRoute authed={this.state.auth} wasInitialised={this.state.wasInitialised} exact path='/chat' component={Chat} />\r\n          <PrivateRoute authed={this.state.auth} wasInitialised={this.state.wasInitialised} exact path='/account' component={Account} />\r\n          <PrivateRoute authed={this.state.auth} wasInitialised={this.state.wasInitialised} exact path='/account/weight' component={Weight} />\r\n          {/* <Route render={() => <Redirect to=\"/home\" />} /> Used to catch all routes */}\r\n        </div>\r\n      </Router>\r\n\r\n    );\r\n  }\r\n}\r\nexport default App;","import \"isomorphic-fetch\"\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\n//serviceWorker.register();\r\n\r\n// if (navigator.serviceWorker) {\r\n//     navigator.serviceWorker.register('./serviceWorker.js').then(function(registration) {\r\n//       console.log('ServiceWorker registration successful with scope:',  registration.scope);\r\n//     }).catch(function(error) {\r\n//       console.log('ServiceWorker registration failed:', error);\r\n//     });\r\n//   }\r\n"],"sourceRoot":""}