(this.webpackJsonpcloudpt=this.webpackJsonpcloudpt||[]).push([[0],{135:function(e,t,a){e.exports=a(271)},142:function(e,t,a){},145:function(e,t,a){},271:function(e,t,a){"use strict";a.r(t);a(136);var n=a(0),s=a.n(n),r=a(29),l=a.n(r),i=(a(142),a(2)),o=a.n(i),c=a(4),u=a(7),m=a(8),h=a(10),d=a(9),p=a(125),f=a(31),g=a(33),E=(a(144),a(3)),b=(a(145),a(47)),w=a.n(b),y=a(56),v=a.n(y),k=a(59),x=a.n(k),C=a(108),N=a.n(C),S=a(109),j=a.n(S),O=a(111),A=a.n(O),T=a(110),D=a.n(T),W=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).onChangeEmail=n.onChangeEmail.bind(Object(E.a)(n)),n.onChangePassword=n.onChangePassword.bind(Object(E.a)(n)),n.onSubmit=n.onSubmit.bind(Object(E.a)(n)),n.state={email:"",password:"",errorMessage:"",showError:!1},n}return Object(m.a)(a,[{key:"onChangeEmail",value:function(e){this.setState({email:e.target.value})}},{key:"onChangePassword",value:function(e){this.setState({password:e.target.value})}},{key:"componentDidMount",value:function(){fetch("/api/auth/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Credentials":!0}}).then((function(e){e.json().then((function(e){"/home"===e.redirect&&(window.location="/home")}))})).catch((function(e){return console.log(e)})),w()((function(){w()(".scroll-down").click((function(){return w()("html, body").animate({scrollTop:w()("section.scrollTo").offset().top},"slow"),!1}))}))}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault();var a=JSON.stringify(this.state);fetch("/api/login",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:a}).then((function(e){e.json().then((function(e){!0===e.auth?window.location="/home":t.setState({errorMessage:"Incorrect email or password",showError:!0,password:""})}))})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){return s.a.createElement(n.Fragment,null,s.a.createElement("div",null,s.a.createElement("div",{className:"fullscreen-bg"},s.a.createElement("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,poster:"",className:"fullscreen-bg__video"},s.a.createElement("source",{src:"/login-video.mp4",type:"video/mp4"}))),s.a.createElement("div",{style:{marginTop:40}},s.a.createElement("p",{className:"appTitle"},s.a.createElement("img",{src:"logo512.png",alt:"logo",height:"60",width:"60"}),"CloudPT"),s.a.createElement("br",null),s.a.createElement("div",{className:"homeBackground"},this.state.showError?s.a.createElement("div",null,s.a.createElement("h4",{className:"alert alert-danger alert-dismissible",role:"alert",style:{textAlign:"center",fontSize:"16px"}}," ",this.state.errorMessage," ")):null,s.a.createElement("form",{onSubmit:this.onSubmit},s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"email",id:"email",name:"email",className:"form-control",placeholder:"Email Address",value:this.state.email,onChange:this.onChangeEmail,required:!0})),s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"password",id:"password",name:"password",className:"form-control",placeholder:"Password",value:this.state.password,onChange:this.onChangePassword,required:!0})),s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"submit",value:"LOGIN",className:"btn btn-success container"})))),s.a.createElement("br",null),s.a.createElement("div",null,s.a.createElement("a",{href:"/register",className:"btn btn-primary container"},"SIGN UP HERE")),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("div",{className:"bubbleCard"},s.a.createElement("h6",null,"  ",s.a.createElement("b",null,"Install this app on your phone: Tap "),s.a.createElement("img",{src:"./safari.png",width:"25px",height:"25px",alt:"Safari Share Button"})," or ",s.a.createElement("img",{src:"./chrome.png",width:"8px",height:"25px",alt:"Chrome Menu Button"})," and then Add to Homescreen! ")),s.a.createElement("br",null),s.a.createElement("div",{className:"scroll-down-info"}," Check out the app features!"),s.a.createElement("section",null,s.a.createElement("a",{href:"#scroll",className:"scroll-down"}," ")),s.a.createElement("section",{className:"scrollTo"},s.a.createElement("br",null),s.a.createElement("div",{className:"homeBackground"},s.a.createElement(v.a,{style:{fontSize:"65px",float:"left"}}),s.a.createElement("h3",{style:{fontSize:"30px",lineHeight:"60px"}},"Workout Creation"),s.a.createElement("li",{className:"list-group-item",style:{textAlign:"center"}},"Create custom workouts for clients"),s.a.createElement("li",{className:"list-group-item",style:{textAlign:"center"}},"Assign workouts to your clients"),s.a.createElement("li",{className:"list-group-item",style:{textAlign:"center"}},"View clients workout history"),s.a.createElement("br",null),s.a.createElement(x.a,{style:{fontSize:"65px",float:"left"}}),s.a.createElement("h3",{style:{fontSize:"30px",lineHeight:"55px"}},"Instant Messaging"),s.a.createElement("li",{className:"list-group-item",style:{textAlign:"center"}},"Contact your clients instantly"),s.a.createElement("li",{className:"list-group-item",style:{textAlign:"center"}},"Easy to use inbuilt chat feature"),s.a.createElement("br",null),s.a.createElement(N.a,{style:{fontSize:"65px",float:"left"}}),s.a.createElement("h3",{style:{fontSize:"30px",lineHeight:"55px"}},"Track Progress"),s.a.createElement("li",{className:"list-group-item",style:{textAlign:"center"}},"See progress your clients are making during programs"),s.a.createElement("li",{className:"list-group-item",style:{textAlign:"center"}})),s.a.createElement("br",null),s.a.createElement("div",{className:"homeBackground"},s.a.createElement(j.a,{style:{fontSize:"65px",float:"left"}}),s.a.createElement("h3",{style:{fontSize:"30px",lineHeight:"60px"}},"Cross-Platform"),s.a.createElement("li",{className:"list-group-item",style:{textAlign:"center"}},"Use the application anywhere"),s.a.createElement("li",{className:"list-group-item",style:{textAlign:"center"}},"Works on any device"),s.a.createElement("br",null),s.a.createElement(D.a,{style:{fontSize:"65px",float:"left"}}),s.a.createElement("h3",{style:{fontSize:"25px",lineHeight:"60px"}},"Web Application"),s.a.createElement("li",{className:"list-group-item",style:{textAlign:"center"}},"Offline operation"),s.a.createElement("li",{className:"list-group-item",style:{textAlign:"center"}},"Fast and lightweight"),s.a.createElement("br",null),s.a.createElement(A.a,{style:{fontSize:"65px",float:"left"}}),s.a.createElement("h3",{style:{fontSize:"25px",lineHeight:"60px"}},"Secure and Protected"),s.a.createElement("li",{className:"list-group-item",style:{textAlign:"center"}},"Up-to-date with the latest security"),s.a.createElement("li",{className:"list-group-item",style:{textAlign:"center"}},"HTTPS ensures your information is protected")),s.a.createElement("br",null)))))}}]),a}(n.Component),P=a(293),L=a(306),M=a(294),U=a(65),F=a(295),I=a(113),R=a.n(I),H=Object(P.a)((function(e){return{root:{flexGrow:1,top:0,left:0,width:"100%"},menuButton:{marginRight:e.spacing(0)},title:{flexGrow:1,textAlign:"center"}}}));function B(e){var t=H();return s.a.createElement("div",{className:t.root},s.a.createElement(L.a,{position:"fixed",style:{background:"linear-gradient(90deg, rgba(117,236,117,1) 0%, rgba(92,184,92,1) 52%, rgba(71,140,71,1) 100%)",boxShadow:"none",paddingTop:"30px"}},s.a.createElement(M.a,null,e.back?s.a.createElement(g.b,{to:e.back,style:{color:"#a3a3a3",width:"20px"}},s.a.createElement(F.a,{edge:"start",color:"inherit","aria-label":"ArrowBackIosIcon"},s.a.createElement(R.a,null))):null,s.a.createElement(U.a,{variant:"h6",className:t.title},e.pageName))),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("p",null))}var V,G=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={},n}return Object(m.a)(a,[{key:"render",value:function(){return s.a.createElement(n.Fragment,null,s.a.createElement(B,{width:"100%",pageName:"HOME"}))}}]),a}(n.Component),q=a(64),z=a(296),J=a(297),_=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={client:n.props.client,assigned:!1},n}return Object(m.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"boxList"},s.a.createElement(q.a,{overflow:"hidden"},s.a.createElement(z.a,{flexDirection:"row"},s.a.createElement(q.a,{flex:"1"},s.a.createElement(J.a,{fontFamily:"Arial, Helvetica, sans-serif"},s.a.createElement("b",null,this.state.client.firstName," ",this.state.client.lastName)))),s.a.createElement(z.a,{flexDirection:"row"},s.a.createElement(q.a,{flex:"1"},s.a.createElement(J.a,{fontFamily:"Arial, Helvetica, sans-serif"},"Workout Currently Assigned: ",this.state.assigned?s.a.createElement("span",{style:{color:"green",fontWeight:"bold"}},"Yes"):s.a.createElement("span",{style:{color:"red",fontWeight:"bold"}},"No")))),s.a.createElement(z.a,{flexDirection:"row"},s.a.createElement(q.a,{flex:"1"},s.a.createElement(J.a,{fontFamily:"Arial, Helvetica, sans-serif"},"Last Workout: ",this.state.assigned?s.a.createElement("span",{style:{color:"green",fontWeight:"bold"}},"01/01/2000"):s.a.createElement("span",{style:{color:"red",fontWeight:"bold"}},"01/01/2000")))),s.a.createElement("button",{type:"button",style:{float:"left"},className:"btn btn-primary container",onClick:function(){return e.props.delete(e.props.index)}},"View Details"),s.a.createElement("button",{type:"button",style:{float:"right"},className:"btn btn-success container",onClick:function(){return e.props.delete()}},"View Schedule")))}}]),a}(n.Component),K=a(30),Y=a.n(K),$=window.$,Q=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).addClient=n.addClient.bind(Object(E.a)(n)),n.state={clients:[],email:"",newClient:"",currentUser:"",showError:!1,message:"",clientsLoading:!1},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(c.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getClients();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addClient",value:function(){var e=Object(c.a)(o.a.mark((function e(t){var a,n,s=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),$("#addClient").modal("hide"),this.setState({showError:!1,showSuccess:!1}),a=!1,this.state.clients.forEach((function(e){s.state.email===e.email&&(a=!0,s.setState({showError:!0,message:"That user is already listed as your client!",email:""}))})),this.state.email===this.state.currentUser.email||a){e.next=11;break}return n=JSON.stringify({email:this.state.email}),e.next=9,fetch("/api/user/relationship",{method:"POST",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Credentials":!0},body:n}).then(function(){var e=Object(c.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json().then(function(){var e=Object(c.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.success?(s.setState({showSuccess:!0,message:"Client has been added!",email:""}),s.getClients()):s.setState({showError:!0,message:"Email address could not be found!",email:""});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return console.log(e)}));case 9:e.next=12;break;case 11:this.state.email===this.state.currentUser.email&&this.setState({showError:!0,message:"You can't add yourself as a client!",email:""});case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getClients",value:function(){var e=Object(c.a)(o.a.mark((function e(){var t=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({clientsLoading:!0}),e.next=3,fetch("api/user/relationship",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Credentials":!0}}).then(function(){var e=Object(c.a)(o.a.mark((function e(a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.json().then((function(e){t.setState({clients:e.clients,currentUser:e.currentUser[0]})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return console.log(e)}));case 3:this.setState({clientsLoading:!1});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return s.a.createElement(n.Fragment,null,s.a.createElement(B,{width:"100%",pageName:"HOME"}),s.a.createElement("div",{className:"alert alert-success",role:"alert",style:{textAlign:"center",fontSize:"24px"}},"Welcome to CloudPT!"),s.a.createElement("button",{type:"button",className:"btn btn-primary container","data-toggle":"modal","data-target":"#addClient"},"ADD CLIENT"),s.a.createElement("br",null),s.a.createElement("br",null),this.state.showError?s.a.createElement("h6",{className:"alert alert-danger alert-dismissible",role:"alert"}," ",this.state.message," "):null,this.state.showSuccess?s.a.createElement("h6",{className:"alert alert-info alert-dismissible",role:"alert"}," ",this.state.message," "):null,this.state.clientsLoading?s.a.createElement("div",{style:{width:"100px",marginLeft:"auto",marginRight:"auto"}},s.a.createElement(Y.a,{type:"ThreeDots",color:"rgb(53, 141, 58)",height:100,width:100})," "):s.a.createElement("div",null,s.a.createElement("h2",null,"Clients"),this.state.clients.map((function(e,t){return s.a.createElement("div",{key:t},s.a.createElement(_,{client:e}))}))),s.a.createElement("form",{onSubmit:function(t){return e.addClient(t)}},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"modal fade",id:"addClient",style:{top:"20px"}},s.a.createElement("div",{className:"modal-dialog"},s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-header"},s.a.createElement("h4",{className:"modal-title"},"Add a New Client"),s.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal"},"\xd7")),s.a.createElement("div",{className:"modal-body"},"Enter the users email address below:",s.a.createElement("input",{type:"email",className:"form-control",placeholder:"Email Address",onChange:function(t){return e.setState({email:t.target.value})},required:!0})),s.a.createElement("div",{className:"modal-footer"},s.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Add Client"),s.a.createElement("button",{type:"button",className:"btn btn-danger","data-dismiss":"modal"},"Close"))))))),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("br",null))}}]),a}(n.Component),X=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).onChangeFirstName=n.onChangeFirstName.bind(Object(E.a)(n)),n.onChangeLastName=n.onChangeLastName.bind(Object(E.a)(n)),n.onChangeEmail=n.onChangeEmail.bind(Object(E.a)(n)),n.onChangePassword=n.onChangePassword.bind(Object(E.a)(n)),n.changePtTrue=n.changePtTrue.bind(Object(E.a)(n)),n.changePtFalse=n.changePtFalse.bind(Object(E.a)(n)),n.onSubmit=n.onSubmit.bind(Object(E.a)(n)),n.state={firstName:"",lastName:"",email:"",password:"",errorMessage:"",showError:!1,ptBool:!1},n}return Object(m.a)(a,[{key:"onChangeFirstName",value:function(e){this.setState({firstName:e.target.value})}},{key:"onChangeLastName",value:function(e){this.setState({lastName:e.target.value})}},{key:"onChangeEmail",value:function(e){this.setState({email:e.target.value})}},{key:"onChangePassword",value:function(e){this.setState({password:e.target.value})}},{key:"changePtTrue",value:function(){this.setState({ptBool:!0})}},{key:"changePtFalse",value:function(){this.setState({ptBool:!1})}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault();var a=JSON.stringify(this.state);fetch("/api/register",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:a}).then((function(e){e.json().then((function(e){"/"===e.redirect?window.location="/":(t.setState({errorMessage:"Email is already in use"}),t.setState({showError:!0}))}))})).catch((function(e){return console.log(e)})),this.setState({email:"",password:""})}},{key:"render",value:function(){return s.a.createElement("div",{style:{marginTop:10}},s.a.createElement("div",{className:"fullscreen-bg"},s.a.createElement("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,poster:"",className:"fullscreen-bg__video"},s.a.createElement("source",{src:"/login-video.mp4",type:"video/mp4"}))),s.a.createElement("p",{className:"appTitle"},s.a.createElement("img",{src:"logo512.png",alt:"logo",height:"60",width:"60"}),"CloudPT"),s.a.createElement("br",null),s.a.createElement("div",{className:"homeBackground"},s.a.createElement("h3",null,"CREATE YOUR ACCOUNT"),s.a.createElement("form",{onSubmit:this.onSubmit},this.state.showError?s.a.createElement("div",null,s.a.createElement("h4",{className:"alert alert-danger alert-dismissible",role:"alert"}," ",this.state.errorMessage," ")):null,s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"text",id:"firstName",className:"form-control",placeholder:"First Name",value:this.state.firstName,onChange:this.onChangeFirstName,required:!0})),s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"text",id:"lastName",className:"form-control",placeholder:"Last Name",value:this.state.lastName,onChange:this.onChangeLastName,required:!0})),s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"email",id:"email",className:"form-control",placeholder:"Email Address",value:this.state.email,onChange:this.onChangeEmail,required:!0})),s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"password",id:"password",className:"form-control",placeholder:"Password",value:this.state.password,onChange:this.onChangePassword,required:!0})),s.a.createElement("h5",null,"Do you want to register as a personal trainer?",s.a.createElement("p",null),s.a.createElement("div",{className:"btn-group btn-group-toggle container","data-toggle":"buttons"},s.a.createElement("label",{className:"btn btn-light active"},s.a.createElement("input",{type:"radio",onClick:this.changePtTrue}),"Yes"),s.a.createElement("label",{className:"btn btn-light active"},s.a.createElement("input",{type:"radio",onClick:this.changePtFalse,defaultChecked:!0}),"No"))),s.a.createElement("div",{className:"form-group"},s.a.createElement("br",null),s.a.createElement("input",{type:"submit",value:"REGISTER",className:"btn btn-success container"})))),s.a.createElement("br",null),s.a.createElement("div",null,s.a.createElement("a",{href:"/",className:"btn btn-primary container"},"LOGIN HERE")))}}]),a}(n.Component),Z=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={},n}return Object(m.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"boxList"},s.a.createElement(q.a,{overflow:"hidden"},s.a.createElement(z.a,{flexDirection:"row"},s.a.createElement(q.a,{flex:"1"},s.a.createElement(J.a,{fontFamily:"Arial, Helvetica, sans-serif"},s.a.createElement("b",null,this.props.workout.workout.name)))),s.a.createElement(z.a,{flexDirection:"row"},s.a.createElement(q.a,{flex:"1"},s.a.createElement(J.a,{fontFamily:"Arial, Helvetica, sans-serif"},"Number of Excerises: ",s.a.createElement("b",null,this.props.workout.exercises.length)))),s.a.createElement(z.a,{flexDirection:"row"},s.a.createElement(q.a,{flex:"1"},s.a.createElement(J.a,{fontFamily:"Arial, Helvetica, sans-serif"},"Date Created: ",s.a.createElement("b",null,new Date(this.props.workout.workout.dateCreated).getDate(),"/",new Date(this.props.workout.workout.dateCreated).getMonth()+1,"/",new Date(this.props.workout.workout.dateCreated).getFullYear())))),s.a.createElement("button",{style:{display:"inline-block",width:"140px"},type:"button",className:"btn btn-success container",onClick:function(){return e.props.start(e.props.workout)}},"Start Workout")))}}]),a}(n.Component),ee=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).getWorkouts=n.getWorkouts.bind(Object(E.a)(n)),n.loadWorkouts=n.loadWorkouts.bind(Object(E.a)(n)),n.startWorkout=n.startWorkout.bind(Object(E.a)(n)),n.state={workoutsLoading:!1,workouts:[],monday:[],tuesday:[],wednesday:[],thursday:[],friday:[],saturday:[],sunday:[],showMessage:!1,message:"",assignment:[]},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(c.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getWorkouts();case 2:this.loadWorkouts(),this.props.location.workoutRecorded&&this.setState({showMessage:!0,message:"Workout has been completed, well done!"});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getWorkouts",value:function(){var e=Object(c.a)(o.a.mark((function e(){var t=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({workoutsLoading:!0}),e.next=3,fetch("/api/workout/assigned",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Credentials":!0}}).then(function(){var e=Object(c.a)(o.a.mark((function e(a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.json().then(function(){var e=Object(c.a)(o.a.mark((function e(a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.setState({workouts:a.workouts,assignment:a.assignment});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return console.log(e)}));case 3:this.setState({workoutsLoading:!1});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadWorkouts",value:function(){for(var e=0;e<this.state.assignment.length;e++){if("Monday"===this.state.assignment[e].day){var t=this.state.monday;t.push(this.state.workouts[e]),this.setState({monday:t})}else if("Tuesday"===this.state.assignment[e].day){var a=this.state.tuesday;a.push(this.state.workouts[e]),this.setState({tuesday:a})}else if("Wednesday"===this.state.assignment[e].day){var n=this.state.wednesday;n.push(this.state.workouts[e]),this.setState({wednesday:n})}else if("Thursday"===this.state.assignment[e].day){var s=this.state.thursday;s.push(this.state.workouts[e]),this.setState({thursday:s})}else if("Friday"===this.state.assignment[e].day){var r=this.state.friday;r.push(this.state.workouts[e]),this.setState({friday:r})}if("Saturday"===this.state.assignment[e].day){var l=this.state.saturday;l.push(this.state.workouts[e]),this.setState({saturday:l})}else if("Sunday"===this.state.assignment[e].day){var i=this.state.sunday;i.push(this.state.workouts[e]),this.setState({sunday:i})}}}},{key:"startWorkout",value:function(e){this.props.history.push({pathname:"/workout/record",workout:e})}},{key:"render",value:function(){var e=this;return s.a.createElement(n.Fragment,null,s.a.createElement(B,{width:"100%",pageName:"WORKOUTS"}),this.state.showMessage?s.a.createElement("h6",{className:"alert alert-success alert-dismissible",role:"alert"}," ",this.state.message," "):null,this.state.workoutsLoading?s.a.createElement("div",{style:{width:"100px",marginLeft:"auto",marginRight:"auto"}},s.a.createElement(Y.a,{type:"ThreeDots",color:"rgb(53, 141, 58)",height:100,width:100})," "):this.state.workouts.length>0&&s.a.createElement("div",null,s.a.createElement("div",{className:"alert alert-info",role:"alert",style:{textAlign:"center",fontSize:"36px"}},"Schedule"),this.state.monday.length>0&&s.a.createElement("div",{className:"clientWorkoutList"},s.a.createElement("h4",null,"Monday"),this.state.monday.map((function(t,a){return s.a.createElement("div",{key:a},s.a.createElement(Z,{workout:t,start:e.startWorkout,index:a}))}))),this.state.tuesday.length>0&&s.a.createElement("div",{className:"clientWorkoutList"},s.a.createElement("h4",null,"Tuesday"),this.state.tuesday.map((function(t,a){return s.a.createElement("div",{key:a},s.a.createElement(Z,{workout:t,start:e.startWorkout,index:a}))}))),this.state.wednesday.length>0&&s.a.createElement("div",{className:"clientWorkoutList"},s.a.createElement("h4",null,"Wednesday"),this.state.wednesday.map((function(t,a){return s.a.createElement("div",{key:a},s.a.createElement(Z,{workout:t,start:e.startWorkout,index:a}))}))),this.state.thursday.length>0&&s.a.createElement("div",{className:"clientWorkoutList"},s.a.createElement("h4",null,"Thursday"),this.state.thursday.map((function(t,a){return s.a.createElement("div",{key:a},s.a.createElement(Z,{workout:t,start:e.startWorkout,index:a}))}))),this.state.friday.length>0&&s.a.createElement("div",{className:"clientWorkoutList"},s.a.createElement("h4",null,"Friday"),this.state.friday.map((function(t,a){return s.a.createElement("div",{key:a},s.a.createElement(Z,{workout:t,start:e.startWorkout,index:a}))}))),this.state.saturday.length>0&&s.a.createElement("div",{className:"clientWorkoutList"},s.a.createElement("h4",null,"Saturday"),this.state.saturday.map((function(t,a){return s.a.createElement("div",{key:a},s.a.createElement(Z,{workout:t,start:e.startWorkout,index:a}))}))),this.state.sunday.length>0&&s.a.createElement("div",{className:"clientWorkoutList"},s.a.createElement("h4",null,"Sunday"),this.state.sunday.map((function(t,a){return s.a.createElement("div",{key:a},s.a.createElement(Z,{workout:t,start:e.startWorkout,index:a}))})))),this.state.workoutsLoading?null:this.state.workouts.length<1&&s.a.createElement("div",{className:"alert alert-info",role:"alert",style:{textAlign:"center",fontSize:"18px"}}," Workouts that get assigned to you will appear here! "),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("br",null))}}]),a}(n.Component),te=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={},n}return Object(m.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"boxList"},s.a.createElement(q.a,{overflow:"hidden"},s.a.createElement(z.a,{flexDirection:"row"},s.a.createElement(q.a,{flex:"1"},s.a.createElement(J.a,{fontFamily:"Arial, Helvetica, sans-serif"},s.a.createElement("b",null,this.props.workout.workout.name)))),s.a.createElement(z.a,{flexDirection:"row"},s.a.createElement(q.a,{flex:"1"},s.a.createElement(J.a,{fontFamily:"Arial, Helvetica, sans-serif"},"Number of Excerises: ",s.a.createElement("b",null,this.props.workout.exercises.length)))),s.a.createElement(z.a,{flexDirection:"row"},s.a.createElement(q.a,{flex:"1"},s.a.createElement(J.a,{fontFamily:"Arial, Helvetica, sans-serif"},"Date Created: ",s.a.createElement("b",null,new Date(this.props.workout.workout.dateCreated).getDate(),"/",new Date(this.props.workout.workout.dateCreated).getMonth()+1,"/",new Date(this.props.workout.workout.dateCreated).getFullYear())))),s.a.createElement("button",{style:{float:"left",width:"80px"},type:"button",className:"btn btn-danger container",onClick:function(){return e.props.delete(e.props.index)}},"Delete"),"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0",s.a.createElement("button",{style:{display:"inline-block",width:"140px"},type:"button",className:"btn btn-success container",onClick:function(){return e.props.assign(e.props.index)}},"Assign Workout"),s.a.createElement("button",{style:{float:"right",width:"80px"},type:"button",className:"btn btn-info container",onClick:function(){return e.props.edit(e.props.index)}},"Edit")))}}]),a}(n.Component),ae=[],ne=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).createNewWorkout=n.createNewWorkout.bind(Object(E.a)(n)),n.getWorkouts=n.getWorkouts.bind(Object(E.a)(n)),n.deleteWorkout=n.deleteWorkout.bind(Object(E.a)(n)),n.editWorkout=n.editWorkout.bind(Object(E.a)(n)),n.openModal=n.openModal.bind(Object(E.a)(n)),n.assignWorkout=n.assignWorkout.bind(Object(E.a)(n)),n.state={workoutsLoading:!1,workouts:[],allClients:[],day:"Monday",assignBttn:!1,client:"",workoutSelected:"",showSuccess:!1,successMsg:""},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(c.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getWorkouts();case 2:return e.next=4,this.getClients();case 4:ae=[this.state.allClients.length].fill(!1);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"createNewWorkout",value:function(){this.props.history.push({pathname:"/workout/new",workout:"null"})}},{key:"getClients",value:function(){var e=Object(c.a)(o.a.mark((function e(){var t=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/user/relationship",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Credentials":!0}}).then(function(){var e=Object(c.a)(o.a.mark((function e(a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.json().then((function(e){t.setState({allClients:e.clients,currentUser:e.currentUser[0]})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getWorkouts",value:function(){var e=Object(c.a)(o.a.mark((function e(){var t=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({workoutsLoading:!0}),e.next=3,fetch("/api/workout",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Credentials":!0}}).then(function(){var e=Object(c.a)(o.a.mark((function e(a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.json().then(function(){var e=Object(c.a)(o.a.mark((function e(a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.setState({workouts:a.workouts});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return console.log(e)}));case 3:this.setState({workoutsLoading:!1});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"deleteWorkout",value:function(e){window.confirm("Click OK if you want to delete this workout. It will also be deleted from clients schedule.")&&(fetch("/api/workout/delete/"+this.state.workouts[e].workout._id,{method:"DELETE",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Credentials":!0}}),window.location.reload())}},{key:"assignWorkout",value:function(){var e=Object(c.a)(o.a.mark((function e(){var t,a=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=0;case 1:if(!(t<this.state.allClients.length)){e.next=8;break}if(!0!==ae[t]){e.next=5;break}return e.next=5,this.setState({client:this.state.allClients[t]},Object(c.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=JSON.stringify(a.state),e.next=3,fetch("/api/workout/assign",{method:"POST",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Credentials":!0},body:t}).then(function(){var e=Object(c.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json().then(function(){var e=Object(c.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.success&&a.setState({showSuccess:!0,successMsg:"Workout has been assigned!"});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e)}))));case 5:t++,e.next=1;break;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"editWorkout",value:function(e){this.props.history.push({pathname:"/workout/new",workout:this.state.workouts[e]})}},{key:"openModal",value:function(e){this.setState({workoutSelected:this.state.workouts[e].workout}),window.$("#assignModal").modal()}},{key:"checkboxChange",value:function(e){ae[e.target.value]=!ae[e.target.value]}},{key:"render",value:function(){var e=this;return s.a.createElement(n.Fragment,null,s.a.createElement(B,{width:"100%",pageName:"WORKOUTS"}),s.a.createElement("button",{type:"button",className:"btn btn-primary container",onClick:this.createNewWorkout},"Create New Workout"),s.a.createElement("br",null),this.state.showSuccess?s.a.createElement("h4",{className:"alert alert-success alert-dismissible",role:"alert",style:{textAlign:"center",fontSize:"16px"}}," ",this.state.successMsg," "):null,this.state.workoutsLoading?s.a.createElement("div",{style:{width:"100px",marginLeft:"auto",marginRight:"auto"}},s.a.createElement(Y.a,{type:"ThreeDots",color:"rgb(53, 141, 58)",height:100,width:100})," "):this.state.workouts.length>0&&s.a.createElement("div",null,s.a.createElement("p",{className:"h4"},"Active Workouts"),this.state.workouts.map((function(t,a){return s.a.createElement("div",{key:a},s.a.createElement(te,{workout:t,delete:e.deleteWorkout,edit:e.editWorkout,assign:e.openModal,index:a}))}))),this.state.workoutsLoading?null:this.state.workouts.length<1&&s.a.createElement("div",{className:"alert alert-info",role:"alert",style:{textAlign:"center",fontSize:"18px"}}," Start by creating a workout! "),s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"modal fade",id:"assignModal"},s.a.createElement("div",{className:"modal-dialog"},s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-header"},s.a.createElement("h4",{className:"modal-title"},this.state.workoutSelected.name),s.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal"},"\xd7")),s.a.createElement("div",{className:"modal-body"},s.a.createElement("div",{className:"btn-group btn-group-toggle container",style:{padding:"5px",border:"1px solid",borderRadius:"5px",borderColor:"lightgrey",display:"block"},"data-toggle":"buttons"},s.a.createElement("label",{className:"btn btn-light daySelection active"},s.a.createElement("input",{type:"radio",value:"Monday",onClick:function(t){return e.setState({day:t.target.value})},defaultChecked:!0}),"Monday"),s.a.createElement("label",{className:"btn btn-light daySelection"},s.a.createElement("input",{type:"radio",value:"Tuesday",onClick:function(t){return e.setState({day:t.target.value})}}),"Tuesday"),s.a.createElement("label",{className:"btn btn-light daySelection"},s.a.createElement("input",{type:"radio",value:"Wednesday",onClick:function(t){return e.setState({day:t.target.value})}}),"Wednesday"),s.a.createElement("label",{className:"btn btn-light daySelection"},s.a.createElement("input",{type:"radio",value:"Thursday",onClick:function(t){return e.setState({day:t.target.value})}}),"Thursday"),s.a.createElement("label",{className:"btn btn-light daySelection"},s.a.createElement("input",{type:"radio",value:"Friday",onClick:function(t){return e.setState({day:t.target.value})}}),"Friday"),s.a.createElement("label",{className:"btn btn-light daySelection"},s.a.createElement("input",{type:"radio",value:"Saturday",onClick:function(t){return e.setState({day:t.target.value})}}),"Saturday"),s.a.createElement("label",{className:"btn btn-light daySelection"},s.a.createElement("input",{type:"radio",value:"Sunday",onClick:function(t){return e.setState({day:t.target.value})}}),"Sunday")),s.a.createElement("p",null),s.a.createElement("p",null),this.state.allClients.length?s.a.createElement("div",{className:"custom-control-lg custom-checkbox mb-0"},s.a.createElement("h4",null,"Select clients"),this.state.allClients.map((function(t,a){return s.a.createElement("li",{key:a,className:"clientList"},s.a.createElement("input",{type:"checkbox",className:"custom-control-input",id:a,value:a,onChange:function(t){return e.checkboxChange(t)}}),s.a.createElement("label",{className:"custom-control-label",htmlFor:a},t.firstName," ",t.lastName))}))):null),s.a.createElement("div",{className:"modal-footer"},s.a.createElement("button",{disabled:this.state.assignBttn,type:"button",className:"btn btn-primary","data-dismiss":"modal",onClick:this.assignWorkout},"Assign Workout"),s.a.createElement("button",{type:"button",className:"btn btn-danger","data-dismiss":"modal"},"Close")))))),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("br",null))}}]),a}(n.Component),se=a(298),re=a(305),le=a(299),ie=a(300),oe=a(115),ce=a.n(oe),ue="",me=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={messages:"",currentUser:"",email:"",getUser:"",showError:!1,errorMsg:"",userList:[],userListLoaded:!1},n.onChangeEmail=n.onChangeEmail.bind(Object(E.a)(n)),n.startChat=n.startChat.bind(Object(E.a)(n)),n.loadMessages=n.loadMessages.bind(Object(E.a)(n)),""===ue&&(ue=new WebSocket("ws://localhost:4000/")),n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(c.a)(o.a.mark((function e(){var t=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.state.userListLoaded){e.next=3;break}return e.next=3,this.loadMessages();case 3:""!==this.state.currentUser&&(ue.send(JSON.stringify({messageType:"email",email:this.state.currentUser[0].email})),ue.onopen=function(e){ue.send(JSON.stringify({messageType:"email",email:t.state.currentUser[0].email}))}),ue.onmessage=function(){var e=Object(c.a)(o.a.mark((function e(a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"messageSent"===JSON.parse(a.data).messageType&&(t.resetStates(),t.loadMessages());case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.setState({userListLoaded:!1})}},{key:"loadMessages",value:function(){var e=Object(c.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.resetStates(),e.next=3,this.getMessages();case 3:return e.next=5,this.getAllUsers();case 5:this.createMessageLists(),this.setState({userListLoaded:!0});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"resetStates",value:function(){this.setState({messages:"",currentUser:"",email:"",getUser:"",showError:!1,errorMsg:"",userList:[],userListLoaded:!1})}},{key:"onChangeEmail",value:function(e){this.setState({email:e.target.value})}},{key:"getAllUsers",value:function(){var e=Object(c.a)(o.a.mark((function e(){var t,a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===this.state.currentUser||""===this.state.messages){e.next=18;break}t=0;case 2:if(!(t<this.state.messages.length)){e.next=18;break}for(a=!1,n=0;n<this.state.userList.length;n++)this.state.userList[n].email!==this.state.messages[t].userTo&&this.state.userList[n].email!==this.state.messages[t].userFrom||(a=!0);if(a){e.next=15;break}if(this.state.messages[t].userTo===this.state.currentUser[0].email){e.next=12;break}return e.next=9,this.getUser(this.state.messages[t].userTo);case 9:null!==this.state.getUser&&this.state.userList.push(this.state.getUser),e.next=15;break;case 12:return e.next=14,this.getUser(this.state.messages[t].userFrom);case 14:null!==this.state.getUser&&this.state.userList.push(this.state.getUser);case 15:t++,e.next=2;break;case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"createMessageLists",value:function(){for(var e=0;e<this.state.userList.length;e++){var t=this.state.userList;t[e]=[t[e],[]],this.setState({userList:t});for(var a=0;a<this.state.messages.length;a++)if(this.state.messages[a].userTo===this.state.userList[e][0].email||this.state.messages[a].userFrom===this.state.userList[e][0].email){var n=this.state.userList;n[e][1].push(this.state.messages[a]),this.setState({userList:n})}}this.state.userList.sort((function(e,t){return new Date(t[1][t[1].length-1].date)-new Date(e[1][e[1].length-1].date)}))}},{key:"startChat",value:function(){var e=Object(c.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,this.getUser(this.state.email);case 3:if(null!=this.state.getUser.email)if(this.state.getUser.email!==this.state.currentUser[0].email)for(0===this.state.userList.length&&this.props.history.push({pathname:"/chat",messages:[],userTo:this.state.getUser,currentUser:this.state.currentUser,socket:ue}),a=0;a<this.state.userList.length;a++)this.state.userList[a][0].email===this.state.email?this.props.history.push({pathname:"/chat",messages:this.state.userList[a][1],userTo:this.state.userList[a][0],currentUser:this.state.currentUser,socket:ue}):this.props.history.push({pathname:"/chat",messages:[],userTo:this.state.getUser,currentUser:this.state.currentUser,socket:ue});else this.setState({showError:!0,errorMsg:"You can't start a chat with yourself!",email:""});else this.setState({showError:!0,errorMsg:"There is no user with that email address!",email:""});case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getUser",value:function(){var e=Object(c.a)(o.a.mark((function e(t){var a,n=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=JSON.stringify({email:t}),this.setState({getUser:null}),e.next=4,fetch("/api/user",{method:"POST",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Credentials":!0},body:a}).then(function(){var e=Object(c.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json().then(function(){var e=Object(c.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null!=t.user&&n.setState({getUser:t.user});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return console.log(e)}));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getMessages",value:function(){var e=Object(c.a)(o.a.mark((function e(){var t=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/messages",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Credentials":!0}}).then(function(){var e=Object(c.a)(o.a.mark((function e(a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.json().then((function(e){t.setState({messages:e.messages,currentUser:e.currentUser})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"captitaliseFirstLetter",value:function(e){return e.charAt(0).toUpperCase()+e.slice(1)}},{key:"render",value:function(){var e=this;return s.a.createElement(n.Fragment,null,s.a.createElement(B,{width:"100%",pageName:"MESSAGES"}),this.state.showError?s.a.createElement("h6",{className:"alert alert-danger alert-dismissible",role:"alert"}," ",this.state.errorMsg," "):null,s.a.createElement("button",{type:"button",className:"btn btn-primary container","data-toggle":"modal","data-target":"#newChatModal"},"Start New Chat"),s.a.createElement(se.a,null,this.state.userListLoaded?this.state.userList.map((function(t,a){return s.a.createElement(re.a,{key:a,style:(a+1)%2?{background:"#e3e3e3",borderRadius:"10px"}:{background:"white",borderRadius:"10px"}},s.a.createElement(le.a,null,s.a.createElement(ce.a,null)),s.a.createElement(g.b,{to:{pathname:"/chat",messages:t[1],userTo:t[0],currentUser:e.state.currentUser,socket:ue}},t[1][t[1].length-1].read||t[1][t[1].length-1].userTo!==e.state.currentUser[0].email?s.a.createElement(ie.a,{primary:e.captitaliseFirstLetter(t[0].firstName)+" "+e.captitaliseFirstLetter(t[0].lastName),secondary:t[1][t[1].length-1].text}):s.a.createElement(ie.a,{style:{textShadow:"0px 0px 1px #333"},primary:e.captitaliseFirstLetter(t[0].firstName)+" "+e.captitaliseFirstLetter(t[0].lastName),secondary:t[1][t[1].length-1].text})))})):s.a.createElement("div",{style:{width:"100px",marginLeft:"auto",marginRight:"auto"}},s.a.createElement(Y.a,{type:"ThreeDots",color:"rgb(53, 141, 58)",height:100,width:100}))),s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"modal fade",id:"newChatModal",style:{top:"20px"}},s.a.createElement("div",{className:"modal-dialog"},s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-header"},s.a.createElement("h4",{className:"modal-title"},"Start New Chat"),s.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal"},"\xd7")),s.a.createElement("div",{className:"modal-body"},"Enter the users email address below:",s.a.createElement("input",{type:"email",id:"email",name:"email",className:"form-control",placeholder:"Email Address",value:this.state.email,onChange:this.onChangeEmail,required:!0})),s.a.createElement("div",{className:"modal-footer"},s.a.createElement("button",{type:"button",className:"btn btn-primary","data-dismiss":"modal",onClick:this.startChat},"Start Chat"),s.a.createElement("button",{type:"button",className:"btn btn-danger","data-dismiss":"modal"},"Close")))))))}}]),a}(n.Component),he=[],de=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;Object(u.a)(this,a),(n=t.call(this,e)).state={text:"",currentUser:n.props.location.currentUser,userTo:n.props.location.userTo},n.onChangeText=n.onChangeText.bind(Object(E.a)(n));try{n.props.location.messages.forEach((function(e){return n.markMessageAsRead(e)}))}catch(s){window.location="/messages"}return n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;document.getElementById("scroll").scrollIntoView(),this.props.location.socket.onmessage=function(t){var a=JSON.parse(t.data);if("messageSent"===a.messageType&&a.userFrom[0].email===e.state.userTo.email){t.preventDefault();var n={text:a.text,user:{firstName:a.userFrom[0].firstName,lastName:a.userFrom[0].lastName,email:a.userFrom[0].email},userTo:a.userTo.email,newMessage:!0,_id:a._id};he.push(n),e.setState({}),e.markMessageAsRead(n)}}}},{key:"componentDidUpdate",value:function(){document.getElementById("scroll").scrollIntoView()}},{key:"onChangeText",value:function(e){e.preventDefault(),this.setState({text:e.target.value})}},{key:"onSubmit",value:function(){var e=Object(c.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""===this.state.text){e.next=5;break}return he.push({text:this.state.text,userTo:{firstName:this.props.location.currentUser.firstName,lastName:this.props.location.currentUser.lastName,email:this.props.location.currentUser.email}}),e.next=5,this.sendMessage();case 5:this.setState({text:""});case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendMessage",value:function(){var e=Object(c.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=JSON.stringify(this.state),e.next=3,fetch("/api/messages",{method:"POST",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Credentials":!0},body:t}).then(function(){var e=Object(c.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json().then(function(){var e=Object(c.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t._id;case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return console.log(e)}));case 3:this.props.location.socket.send(JSON.stringify({messageType:"messageSent",_id:a,text:this.state.text,userTo:this.state.userTo,userFrom:this.state.currentUser}));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"markMessageAsRead",value:function(e){var t=JSON.stringify(e);(e.userTo===this.state.currentUser[0].email||e.newMessage)&&fetch("/api/message/read",{method:"POST",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Credentials":!0},body:t})}},{key:"renderMessage",value:function(e){var t,a;return e.userTo===this.props.location.currentUser[0].email?(t="notCurrentUser",a=this.state.userTo):(t="currentUser",a=this.props.location.currentUser[0]),s.a.createElement("div",{className:t},s.a.createElement("div",{className:"messageContent"},s.a.createElement("div",{className:"username"},this.captitaliseFirstLetter(a.firstName)," ",this.captitaliseFirstLetter(a.lastName)),s.a.createElement("div",{className:"text"},e.text)))}},{key:"captitaliseFirstLetter",value:function(e){return e.charAt(0).toUpperCase()+e.slice(1)}},{key:"render",value:function(){var e=this;return he=this.props.location.messages,V=this.props.location.userTo,s.a.createElement(n.Fragment,null,s.a.createElement(B,{width:"100%",pageName:V.firstName.toUpperCase()+" "+V.lastName.toUpperCase(),back:"/messages"}),he.map((function(t,a){return s.a.createElement("ul",{key:a},e.renderMessage(t))})),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("div",{id:"scroll"}),s.a.createElement("div",{className:"chatInput"},s.a.createElement("form",{className:"chatInputForm",onSubmit:function(t){return e.onSubmit(t)}},s.a.createElement("input",{className:"form-control",onChange:this.onChangeText,value:this.state.text,type:"text",placeholder:"Enter your message here",required:!0}),s.a.createElement("button",{className:"sendButton",type:"submit"},"Send"))),s.a.createElement("div",{className:"chatHide"}))}}]),a}(n.Component),pe=a(301),fe=a(116),ge=a.n(fe),Ee=a(61),be=a.n(Ee),we=a(118),ye=a.n(we),ve=a(117),ke=a.n(ve),xe=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).listClick=n.listClick.bind(Object(E.a)(n)),n}return Object(m.a)(a,[{key:"logout",value:function(){fetch("/api/logout",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Credentials":!0}}).then((function(e){e.json().then((function(e){!0===e.logout&&(window.location="/")}))})).catch((function(e){return console.log(e)}))}},{key:"listClick",value:function(e){this.props.history.push({pathname:e})}},{key:"render",value:function(){var e=this,t=this.props;return s.a.createElement(n.Fragment,null,s.a.createElement(B,{width:"100%",pageName:"ACCOUNT"}),s.a.createElement("div",{className:t.root},s.a.createElement(se.a,{component:"nav","aria-label":"list"},s.a.createElement(re.a,{onClick:function(){return e.listClick("/account/body")}},s.a.createElement(le.a,null,s.a.createElement(ge.a,null)),s.a.createElement(ie.a,{primary:"Update Weight and Height"})),s.a.createElement(pe.a,null),s.a.createElement(re.a,{onClick:function(){return e.listClick("/account/role")}},s.a.createElement(le.a,null,s.a.createElement(ke.a,null)),s.a.createElement(ie.a,{primary:"Change User Role"})),s.a.createElement(re.a,{onClick:function(){return e.listClick("/account/update")}},s.a.createElement(le.a,null,s.a.createElement(be.a,null)),s.a.createElement(ie.a,{primary:"Update Account Details"})),s.a.createElement(re.a,{onClick:function(){return e.listClick("/account/password")}},s.a.createElement(le.a,null,s.a.createElement(ye.a,null)),s.a.createElement(ie.a,{primary:"Change Password"})),s.a.createElement(pe.a,null)),s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"button",value:"Logout",className:"btn btn-danger container",onClick:this.logout}))))}}]),a}(n.Component),Ce=a(124),Ne=a(302),Se=a(303),je=a(120),Oe=a.n(je),Ae=Object(P.a)({root:{width:"100%",position:"fixed",bottom:0,left:0,zIndex:100,height:"75px",borderTop:"1px solid #c7c7c7",overflow:"hidden"}});function Te(){var e=Ae(),t=s.a.useState(window.location.pathname.substr(1)),a=Object(Ce.a)(t,2),n=a[0],r=a[1],l=Object(f.g)();return s.a.createElement(Ne.a,{value:n,onChange:function(e,t){l.push("/".concat(t)),r(t)},className:e.root},s.a.createElement(Se.a,{disableTouchRipple:!0,label:"Home",value:"home",icon:s.a.createElement(Oe.a,null)}),s.a.createElement(Se.a,{disableTouchRipple:!0,label:"Workouts",value:"workout",icon:s.a.createElement(v.a,null)}),s.a.createElement(Se.a,{disableTouchRipple:!0,label:"Messages",value:"messages",icon:s.a.createElement(x.a,null)}),s.a.createElement(Se.a,{disableTouchRipple:!0,label:"Account",value:"account",icon:s.a.createElement(be.a,null)}))}var De,We,Pe=a(79),Le=a.n(Pe),Me=a(304),Ue=a(123),Fe=a.n(Ue),Ie=a(121),Re="",He=[],Be=[],Ve=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;Object(u.a)(this,a),n=t.call(this,e),Re="",He=[],Be=[],n.props.weights.forEach((function(e){He.push(e.weight)}));var s=["January","February","March","April","May","June","July","August","September","October","November","December"];return n.props.weights.forEach((function(e){var t=new Date(e.date);Be.push(t.getDate()+" "+s[t.getMonth()])})),n.createGraph(),n}return Object(m.a)(a,[{key:"createGraph",value:function(){Re={labels:Be.reverse(),datasets:[{fill:!1,lineTension:.1,backgroundColor:"rgba(75,192,192,1)",borderColor:"rgb(75, 192, 192)",borderWidth:2,data:He.reverse()}]}}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(Ie.a,{data:Re,options:{title:{display:!0,text:"Weight",fontSize:20},legend:{display:!1}},height:300}))}}]),a}(n.Component),Ge=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={weight:60,height:150,userHeight:!1,date:new Date,allWeights:[]},n.handleValueWeight=n.handleValueWeight.bind(Object(E.a)(n)),n.handleValueHeight=n.handleValueHeight.bind(Object(E.a)(n)),n.renderSlideRulerWeight=n.renderSlideRulerWeight.bind(Object(E.a)(n)),n.renderSlideRulerHeight=n.renderSlideRulerHeight.bind(Object(E.a)(n)),n.addWeight=n.addWeight.bind(Object(E.a)(n)),n.getWeight=n.getWeight.bind(Object(E.a)(n)),n.deleteWeight=n.deleteWeight.bind(Object(E.a)(n)),n.updateHeight=n.updateHeight.bind(Object(E.a)(n)),n.getHeight=n.getHeight.bind(Object(E.a)(n)),n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.getWeight(),this.getHeight(),this.renderSlideRulerWeight(),this.renderSlideRulerHeight()}},{key:"handleValueWeight",value:function(e){this.setState({weight:e})}},{key:"handleValueHeight",value:function(e){this.setState({height:e})}},{key:"renderSlideRulerWeight",value:function(){return new Le.a({el:this.refs.slideRulerWeight,maxValue:250,minValue:30,currentValue:80,handleValue:this.handleValueWeight,precision:.1,fontColor:"#FFFFFF"})}},{key:"renderSlideRulerHeight",value:function(){return new Le.a({el:this.refs.slideRulerHeight,maxValue:250,minValue:30,currentValue:150,handleValue:this.handleValueHeight,precision:.5,fontColor:"#FFFFFF"})}},{key:"getWeight",value:function(e){var t=this;fetch("/api/weight/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Credentials":!0}}).then((function(e){e.json().then(function(){var e=Object(c.a)(o.a.mark((function e(a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.setState({allWeights:a.weights.sort((function(e,t){return new Date(t.date)-new Date(e.date)}))});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})).catch((function(e){return console.log(e)}))}},{key:"addWeight",value:function(e){var t=JSON.stringify(this.state);fetch("/api/weight/",{method:"POST",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Credentials":!0},body:t}),window.location.reload()}},{key:"deleteWeight",value:function(e){var t=window.confirm("Click OK if you want to delete this weight input");t&&(fetch("/api/weight/"+e._id,{method:"DELETE",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Credentials":!0}}),window.location.reload())}},{key:"updateHeight",value:function(e){var t=JSON.stringify(this.state);fetch("/api/height/",{method:"POST",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Credentials":!0},body:t}),window.location.reload()}},{key:"getHeight",value:function(){var e=this;fetch("/api/height/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Credentials":!0}}).then((function(t){t.json().then(function(){var t=Object(c.a)(o.a.mark((function t(a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({userHeight:a.height});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this;return s.a.createElement(n.Fragment,null,s.a.createElement(B,{width:"100%",pageName:"HEIGHT & WEIGHT",back:"/account"}),this.state.userHeight?s.a.createElement("h4",null,s.a.createElement("div",{style:{textAlign:"center"}},"Current Height"),"  ",s.a.createElement("p",{style:{textAlign:"center"}},s.a.createElement("b",null,this.state.userHeight," cm"))):null,s.a.createElement("button",{type:"button",className:"btn btn-primary container","data-toggle":"modal","data-target":"#heightModal"},"Update Height"),s.a.createElement("br",null),s.a.createElement("br",null),this.state.allWeights.length>0&&s.a.createElement("h4",null,s.a.createElement("div",{style:{textAlign:"center"}},"Current Weight"),"  ",s.a.createElement("p",{style:{textAlign:"center"}},s.a.createElement("b",null,this.state.allWeights[0].weight," kg"))),s.a.createElement("button",{type:"button",className:"btn btn-primary container","data-toggle":"modal","data-target":"#weightModal"},"Update Weight"),this.state.allWeights.length>0&&s.a.createElement("div",null,s.a.createElement(Ve,{weights:this.state.allWeights})),this.state.allWeights.length>0&&s.a.createElement(se.a,{className:"weightList"},this.state.allWeights&&this.state.allWeights.map((function(t,a){return s.a.createElement("div",{key:a},s.a.createElement(re.a,null,s.a.createElement(ie.a,null,t.weight,"kg ",s.a.createElement("div",{style:{float:"right"}},new Date(t.date).getDate(),"/",new Date(t.date).getMonth()+1,"/",new Date(t.date).getFullYear())),s.a.createElement(Me.a,{onClick:function(){return e.deleteWeight(t)}},s.a.createElement(F.a,{edge:"end"},s.a.createElement(Fe.a,null)))),a!==e.state.allWeights.length-1&&s.a.createElement(pe.a,null))}))),s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"modal fade",id:"weightModal"},s.a.createElement("div",{className:"modal-dialog"},s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-header"},s.a.createElement("h4",{className:"modal-title"},"Weight Input"),s.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal"},"\xd7")),s.a.createElement("div",{className:"modal-body"},s.a.createElement("p",{className:"modal-info"},this.state.weight," KG"),s.a.createElement("div",{style:{textAlign:"center",fontSize:"24px",fontWeight:"bold"}},"^"),s.a.createElement("div",{ref:"slideRulerWeight",className:"ruler"})),s.a.createElement("div",{className:"modal-footer"},s.a.createElement("button",{type:"button",className:"btn btn-primary","data-dismiss":"modal",onClick:this.addWeight},"Add Weight"),s.a.createElement("button",{type:"button",className:"btn btn-danger","data-dismiss":"modal"},"Close")))))),s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"modal fade container",id:"heightModal"},s.a.createElement("div",{className:"modal-dialog"},s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-header"},s.a.createElement("h4",{className:"modal-title"},"Height Input"),s.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal"},"\xd7")),s.a.createElement("div",{className:"modal-body"},s.a.createElement("p",{className:"modal-info"},this.state.height," CM"),s.a.createElement("div",{style:{textAlign:"center",fontSize:"24px",fontWeight:"bold"}},"^"),s.a.createElement("div",{ref:"slideRulerHeight",className:"ruler"})),s.a.createElement("div",{className:"modal-footer"},s.a.createElement("button",{type:"button",className:"btn btn-primary","data-dismiss":"modal",onClick:this.updateHeight},"Update Height"),s.a.createElement("button",{type:"button",className:"btn btn-danger","data-dismiss":"modal"},"Close")))))),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("br",null))}}]),a}(n.Component),qe=a(62),ze=a.n(qe),Je=[["Custom","Treadmill","Cross-Trainer","Bike","Rowing Machine","Stair Climb"],[["Custom","Quad Strech","Hamstring Stretch","Calf Stretch"],["Custom","Squat","Squat Jump","Lunge","Box Squats","Wall Sit"],["Custom","Squat","Front Squat","Romanian Deadlift","Lunges","Good Mornings","Calf Raises","Glute Bridge"],["Custom","Goblet Squat","Bulgarian Squat","Romanian Deadlift","Lunges"]],[["Custom","Childs Pose","Knee-to-Chest","Seated Spinal Twist","Cat and Cow Stretch"],["Custom","Pullups","Chin Ups","Inverted Rows"],["Custom","Deadlift","Bent Over Rows","Stiff Leg Deadlift","Rack Pulls","Shrugs"],["Custom","Bent Over Rows","Kneeling One Arm Row","Deadlift","Back Fly"]],[["Custom","Childs Pose","Arm Circles","Arm Cross-Body","Downward Dog"],["Custom","Pike Pushups","Push-Back Pushups"],["Custom","Shoulder Press","Upright Row","Seated Shoulder Press"],["Custom","Shoudler Press","Arnold Press","Lateral Raise","Reverse Flys"]],[["Custom","Bent Arm Against Wall","Hands on Head"],["Custom","Pushups","Diamond Pushups","Wide Pushups","Incline Pushups","Decline Pushups"],["Custom","Bench Press","Incline Bench Press","Decline Bench Press","Close-Grip Bench Press"],["Custom","Bench Press","Incline Bench Press","Decline Bench Press","Lying Flys","Incline Flys"]],[["Custom","Overhead Tricep","Arm Cross-Body","Wrist Extension","Childs Pose"],["Custom","Tricep Dips","Shoulder Taps","Walking Pushups","Diamond Pushups"],["Custom","Curls","Skull Crushes","Reverse Curls"],["Custom","Curls","Hammer Curls","Overhead Extensions","Bent-Over Tricep Extensions"]],[["Custom","Snake Strech","Childs Pose","Cat and Cow Stretch"],["Custom","Crunch","Russian Twists","Plank","Side-Plank","Leg Raises","bicycles","Side Oblique Crunch"],["Custom","Barbell Rollout","Zercher Squat","Lunge"],["Custom","Side Bends","Crunch","Russian Twists"]]],_e=!1,Ke=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).getExerciseData=n.getExerciseData.bind(Object(E.a)(n)),n.state={exerciseData:n.props.exercise,exerciseType:["Cardio","Stretching","Body Weight","Barbell","Dumbbell"]},n.getExerciseData(),n}return Object(m.a)(a,[{key:"getExerciseData",value:function(){De=""!==this.state.exerciseData.customName?this.state.exerciseData.customName:"0"===this.state.exerciseData.exerciseTypeValue?Je[this.state.exerciseData.exerciseTypeValue][this.state.exerciseData.exerciseValue]:Je[parseInt(this.state.exerciseData.bodyPartValue)+1][parseInt(this.state.exerciseData.exerciseTypeValue)-1][this.state.exerciseData.exerciseValue],_e=ze()(this.state.exerciseData.notes,{defaultProtocol:"https"})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"boxList"},s.a.createElement(q.a,{overflow:"hidden"},s.a.createElement(z.a,{flexDirection:"row"},s.a.createElement(q.a,{flex:"1"},s.a.createElement(J.a,{fontFamily:"Arial, Helvetica, sans-serif"},s.a.createElement("b",null,"Type: "),this.state.exerciseType[this.props.exercise.exerciseTypeValue])),s.a.createElement(q.a,{flex:"1"},s.a.createElement(J.a,{textAlign:"right",fontFamily:"Arial, Helvetica, sans-serif"},this.state.exerciseData.distance?s.a.createElement("span",null,"Distance: ",this.state.exerciseData.distance," Miles"):null,this.state.exerciseData.minutes?s.a.createElement("span",null,"Duration: ",this.state.exerciseData.minutes," Min ",this.state.exerciseData.seconds," Sec"):null,this.state.exerciseData.weight?s.a.createElement("span",null,s.a.createElement("b",null,"Weight: "),this.state.exerciseData.weight," KG"):null))),s.a.createElement(z.a,{flexDirection:"row"},s.a.createElement(q.a,{flex:"1"},s.a.createElement(J.a,{fontFamily:"Arial, Helvetica, sans-serif"},s.a.createElement("b",null,"Exercise: "),De)),s.a.createElement(q.a,{flex:"1"},s.a.createElement(J.a,{textAlign:"right",fontFamily:"Arial, Helvetica, sans-serif"},this.state.exerciseData.sets?s.a.createElement("span",null,s.a.createElement("b",null,"Sets: "),this.state.exerciseData.sets," ",s.a.createElement("span",null,s.a.createElement("b",null,"Reps: "),this.state.exerciseData.repetitions)):null))),s.a.createElement(z.a,{flexDirection:"row"},s.a.createElement(q.a,{flex:"1"},s.a.createElement(J.a,{fontWeight:"bold",margin:"0",fontFamily:"Arial, Helvetica, sans-serif"},this.state.exerciseData.notes?s.a.createElement("span",null,"Notes:"):null),s.a.createElement(J.a,{fontFamily:"Arial, Helvetica, sans-serif",dangerouslySetInnerHTML:{__html:_e}}))),s.a.createElement("button",{type:"button",className:"btn btn-danger container",style:{float:"left"},onClick:function(){return e.props.delete(e.props.index)}},"Delete")))}}]),a}(n.Component),Ye=window.$,$e=[],Qe=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).addExercise=n.addExercise.bind(Object(E.a)(n)),n.deleteExercise=n.deleteExercise.bind(Object(E.a)(n)),n.state={exerciseType:["Cardio","Stretching","Body Weight","Barbell","Dumbbell"],exerciseTypeValue:-1,bodyParts:["Legs","Back","Shoulders","Chest","Arms","Abs"],bodyPartValue:-1,showExerciseList:!1,showBodyPart:!1,exerciseValue:-1,showCardioOptions:!1,disableBttn:!0,showTime:!1,showDistance:!1,showNotes:!1,customName:"",minutes:"",seconds:"",distance:"",weight:"",sets:"",repetitions:"",notes:"",showExercises:!0,workoutName:"",workoutID:""},"undefined"===typeof n.props.location.workout&&(window.location="/workout"),n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){"null"!==this.props.location.workout?($e=this.props.location.workout.exercises,this.setState({workoutName:this.props.location.workout.workout.name,workoutID:this.props.location.workout.workout._id})):($e=[],this.setState({showExercises:!1}),this.setState({showExercises:!1}))}},{key:"exerciseTypeChange",value:function(e){this.setState({showBodyPart:!1,showExerciseList:!1,showCardioOptions:!1,showTime:!1,showDistance:!1,showWeight:!1,showSets:!1,showNotes:!1}),this.setState({exerciseTypeValue:e.target.value}),"0"===e.target.value?this.setState({showExerciseList:!0}):e.target.value>0&&this.setState({showBodyPart:!0})}},{key:"exerciseChange",value:function(e){this.setState({exerciseValue:e.target.value,showCardioOptions:!1,showTime:!1,showDistance:!1,showWeight:!1,showSets:!1,showNotes:!1}),"0"===this.state.exerciseTypeValue?this.setState({showCardioOptions:!0,showTime:!0}):"1"===this.state.exerciseTypeValue?this.setState({showTime:!0}):"2"===this.state.exerciseTypeValue?this.setState({showSets:!0}):this.setState({showSets:!0,showWeight:!0}),this.setState({showNotes:!0,disableBttn:!1})}},{key:"loadExercises",value:function(){return this.state.showBodyPart?Je[parseInt(this.state.bodyPartValue)+1][parseInt(this.state.exerciseTypeValue)-1].map((function(e,t){return s.a.createElement("option",{value:t,key:t},e)})):Je[this.state.exerciseTypeValue].map((function(e,t){return s.a.createElement("option",{value:t,key:t},e)}))}},{key:"addExercise",value:function(e){e.preventDefault(),$e.push(this.state),Ye("#addExercise").modal("hide"),Ye("#exerciseType").val("hidden"),this.setState({exerciseTypeValue:-1,bodyPartValue:-1,showExerciseList:!1,showBodyPart:!1,exerciseValue:-1,showCardioOptions:!1,disableBttn:!0,showTime:!1,showDistance:!1,showNotes:!1,showSets:!1,showWeight:!1,customName:"",minutes:"",seconds:"",distance:"",weight:"",sets:"",repetitions:"",notes:"",showExercises:!1}),this.setState({showExercises:!0})}},{key:"deleteExercise",value:function(e){var t=$e.slice(0,e).concat($e.slice(e+1,$e.length));$e=t,this.setState({showExercises:!1}),this.setState({showExercises:!0})}},{key:"saveWorkout",value:function(){var e=Object(c.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),$e[0].workoutName=this.state.workoutName,a=JSON.stringify($e),e.next=5,fetch("/api/workout/new",{method:"POST",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Credentials":!0},body:a}).then(function(){var e=Object(c.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json().then(function(){var e=Object(c.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t._id;case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return console.log(e)}));case 5:""!==this.state.workoutID&&(console.log(n),console.log(this.state.workoutID),fetch("/api/workout/update/"+this.state.workoutID,{method:"POST",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Credentials":!0},body:JSON.stringify({oldWorkoutID:this.state.workoutID,newWorkoutID:n})})),this.props.history.push({pathname:"/workout/"});case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return s.a.createElement(n.Fragment,null,s.a.createElement(B,{width:"100%",pageName:"CREATE WORKOUT",back:"/workout"}),s.a.createElement("form",{onSubmit:function(t){return e.saveWorkout(t)}},s.a.createElement("input",{type:"text",className:"form-control",placeholder:"Workout Name",value:this.state.workoutName,onChange:function(t){return e.setState({workoutName:t.target.value})},required:!0,style:{textAlign:"center"}}),s.a.createElement("br",null),s.a.createElement("button",{type:"button",className:"btn btn-success container","data-toggle":"modal","data-target":"#addExercise"},"ADD EXERCISE"),s.a.createElement("br",null),s.a.createElement("br",null),$e.length?null:s.a.createElement("div",{className:"alert alert-info",role:"alert",style:{textAlign:"center"}},"Add an exercise to begin creating this workout!"),this.state.showExercises?s.a.createElement("div",null,$e.map((function(t,a){return s.a.createElement("div",{key:a},s.a.createElement(Ke,{exercise:t,index:a,delete:e.deleteExercise}))}))):null,s.a.createElement("br",null),s.a.createElement("button",{type:"submit",className:"btn btn-primary container",disabled:!$e.length},"SAVE WORKOUT")," ",s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("br",null)),s.a.createElement("form",{onSubmit:function(t){return e.addExercise(t)}},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"modal fade",id:"addExercise"},s.a.createElement("div",{className:"modal-dialog"},s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-header"},s.a.createElement("h4",{style:{fontSize:"22px"},className:"modal-title"},"Add Exercise to Workout"),s.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal"},"\xd7")),s.a.createElement("div",{className:"modal-body"},"Exercise Type",s.a.createElement("select",{className:"form-control",id:"exerciseType",onChange:function(t){return e.exerciseTypeChange(t)}},s.a.createElement("option",{hidden:!0,value:"hidden"},"Choose exercise type..."),this.state.exerciseType.map((function(e,t){return s.a.createElement("option",{value:t,key:t},e)}))),s.a.createElement("br",null),this.state.showBodyPart?s.a.createElement("div",null,"Body Part",s.a.createElement("select",{className:"form-control",onChange:function(t){return e.setState({bodyPartValue:t.target.value,showExerciseList:!0})}},s.a.createElement("option",{hidden:!0},"Choose a body part..."),this.state.bodyParts.map((function(e,t){return s.a.createElement("option",{value:t,key:t},e)}))),s.a.createElement("br",null)):null,this.state.showExerciseList?s.a.createElement("div",null,"Exercise",s.a.createElement("select",{required:!0,className:"form-control",onChange:function(t){return e.exerciseChange(t)}},s.a.createElement("option",{hidden:!0},"Choose a exercise..."),this.loadExercises()),s.a.createElement("br",null),"0"===this.state.exerciseValue&&s.a.createElement("div",null,s.a.createElement("input",{required:!0,type:"text",className:"form-control",placeholder:"Exercise Name",onChange:function(t){return e.setState({customName:t.target.value})},value:this.state.customName}),s.a.createElement("p",null),s.a.createElement("p",null))):null,this.state.showCardioOptions?s.a.createElement("div",null,s.a.createElement("div",{className:"btn-group btn-group-toggle container",style:{padding:"0px",border:"1px solid",borderRadius:"5px",borderColor:"lightgrey"},"data-toggle":"buttons"},s.a.createElement("label",{className:"btn btn-light "},s.a.createElement("input",{type:"radio",onClick:function(t){return e.setState({showTime:!1,showDistance:!0})}}),"Distance"),s.a.createElement("label",{className:"btn btn-light active"},s.a.createElement("input",{type:"radio",onClick:function(t){return e.setState({showTime:!0,showDistance:!1})},defaultChecked:!0}),"Time")),s.a.createElement("p",null),s.a.createElement("p",null)):null,this.state.showTime?s.a.createElement("div",{style:{margin:"0px auto",width:"90%"}},s.a.createElement("input",{required:!0,type:"number",inputMode:"decimal",onChange:function(t){return e.setState({minutes:t.target.value})},className:"form-control",style:{width:"47%",textAlign:"center",display:"inline-block",margin:"2px"},placeholder:"Minutes"}),s.a.createElement("input",{required:!0,type:"number",inputMode:"decimal",max:"59",onChange:function(t){return e.setState({seconds:t.target.value})},className:"form-control",style:{width:"47%",textAlign:"center",display:"inline-block",margin:"2px"},placeholder:"Seconds"})):null,this.state.showDistance?s.a.createElement("div",null,s.a.createElement("input",{required:!0,type:"number",step:"any",inputMode:"decimal",onChange:function(t){return e.setState({distance:t.target.value})},className:"form-control",style:{textAlign:"center"},placeholder:"Distance (Miles)"})):null,this.state.showWeight?s.a.createElement("div",null,s.a.createElement("input",{required:!0,type:"number",step:"any",inputMode:"decimal",onChange:function(t){return e.setState({weight:t.target.value})},className:"form-control",style:{textAlign:"center"},placeholder:"Weight (KG)"}),s.a.createElement("p",null),s.a.createElement("p",null)):null,this.state.showSets?s.a.createElement("div",{style:{margin:"0px auto",width:"90%"}},s.a.createElement("input",{required:!0,type:"number",inputMode:"decimal",onChange:function(t){return e.setState({sets:t.target.value})},className:"form-control",style:{width:"47%",textAlign:"center",display:"inline-block",margin:"2px"},placeholder:"Sets"}),s.a.createElement("input",{required:!0,type:"number",inputMode:"decimal",onChange:function(t){return e.setState({repetitions:t.target.value})},className:"form-control",style:{width:"47%",textAlign:"center",display:"inline-block",margin:"2px"},placeholder:"Repetitions"})):null,this.state.showNotes?s.a.createElement("p",null,s.a.createElement("textarea",{rows:"3",onChange:function(t){return e.setState({notes:t.target.value})},className:"form-control",placeholder:"Notes (e.g. Video links)",style:{marginTop:"20px"}})):null),s.a.createElement("div",{className:"modal-footer"},s.a.createElement("button",{type:"submit",className:"btn btn-primary",disabled:this.state.disableBttn},"Add"),s.a.createElement("button",{type:"button",className:"btn btn-danger","data-dismiss":"modal"},"Close"))))))))}}]),a}(n.Component),Xe=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).onChangeFirstName=n.onChangeFirstName.bind(Object(E.a)(n)),n.onChangeLastName=n.onChangeLastName.bind(Object(E.a)(n)),n.onChangeEmail=n.onChangeEmail.bind(Object(E.a)(n)),n.onSubmit=n.onSubmit.bind(Object(E.a)(n)),n.state={firstName:"",lastName:"",email:"",errorMessage:"",successMessage:"",showError:!1,showSuccess:!1,user:""},n.fillDetails(),n}return Object(m.a)(a,[{key:"onChangeFirstName",value:function(e){this.setState({firstName:e.target.value})}},{key:"onChangeLastName",value:function(e){this.setState({lastName:e.target.value})}},{key:"onChangeEmail",value:function(e){this.setState({email:e.target.value})}},{key:"fillDetails",value:function(){var e=Object(c.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getCurrentUser();case 2:this.setState({firstName:this.state.user.firstName,lastName:this.state.user.lastName,email:this.state.user.email});case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getCurrentUser",value:function(){var e=Object(c.a)(o.a.mark((function e(){var t=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/user",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Credentials":!0}}).then(function(){var e=Object(c.a)(o.a.mark((function e(a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.json().then((function(e){t.setState({user:e.currentUser[0]})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"onSubmit",value:function(e){var t=this;this.setState({showError:!1,showSuccess:!1}),e.preventDefault();var a=JSON.stringify(this.state);fetch("/api/user/update",{method:"POST",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Credentials":!0},body:a}).then((function(e){e.json().then((function(e){e.success?(t.setState({showSuccess:!0,successMessage:"User account has been updated"}),t.state.email!==t.state.user.email&&(t.setState({showSuccess:!0,successMessage:"User account has been updated. You must re-login for changes to take effect. You will now be logged out."}),setTimeout(t.logout,6e3))):t.setState({showError:!0,errorMessage:"That email is already in use",firstName:t.state.user.firstName,lastName:t.state.user.lastName,email:t.state.user.email})}))})).catch((function(e){return console.log(e)}))}},{key:"logout",value:function(){fetch("/api/logout",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Credentials":!0}}).then((function(e){e.json().then((function(e){!0===e.logout&&(window.location="/")}))})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){return s.a.createElement(n.Fragment,null,s.a.createElement(B,{width:"100%",pageName:"UPDATE ACCOUNT DETAILS",back:"/account"}),s.a.createElement("form",{onSubmit:this.onSubmit,autoComplete:"new-password",style:{color:"grey"}},this.state.showSuccess?s.a.createElement("div",null,s.a.createElement("h4",{className:"alert alert-success alert-dismissible",role:"alert",style:{textAlign:"center",fontSize:"16px"}}," ",this.state.successMessage," ")):null,this.state.showError?s.a.createElement("div",null,s.a.createElement("h4",{className:"alert alert-danger alert-dismissible",role:"alert",style:{textAlign:"center",fontSize:"16px"}}," ",this.state.errorMessage," ")):null,s.a.createElement("div",{className:"form-group"},"First Name",s.a.createElement("input",{type:"text",className:"form-control",placeholder:"First Name",value:this.state.firstName,onChange:this.onChangeFirstName,autoComplete:"off",required:!0}),s.a.createElement("p",null),"Last Name",s.a.createElement("input",{type:"text",className:"form-control",placeholder:"Last Name",value:this.state.lastName,onChange:this.onChangeLastName,autoComplete:"off",required:!0}),s.a.createElement("p",null),"Email",s.a.createElement("input",{type:"email",className:"form-control",placeholder:"Email Address",value:this.state.email,onChange:this.onChangeEmail,autoComplete:"new-password",required:!0})),s.a.createElement("br",null),s.a.createElement("input",{type:"submit",value:"UPDATE DETAILS",className:"btn btn-primary container"})))}}]),a}(n.Component),Ze=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).onChangeCurrentPassword=n.onChangeCurrentPassword.bind(Object(E.a)(n)),n.onChangeNewPassword=n.onChangeNewPassword.bind(Object(E.a)(n)),n.onChangeNewConPassword=n.onChangeNewConPassword.bind(Object(E.a)(n)),n.onSubmit=n.onSubmit.bind(Object(E.a)(n)),n.state={currentPassword:"",newPassword:"",newConPassword:"",message:"",showError:!1,showSuccess:!1},n}return Object(m.a)(a,[{key:"onChangeCurrentPassword",value:function(e){this.setState({currentPassword:e.target.value})}},{key:"onChangeNewPassword",value:function(e){this.setState({newPassword:e.target.value})}},{key:"onChangeNewConPassword",value:function(e){this.setState({newConPassword:e.target.value})}},{key:"onSubmit",value:function(e){var t=this;if(this.setState({showError:!1,showSuccess:!1}),e.preventDefault(),this.state.newConPassword!==this.state.newPassword)this.setState({message:"New password does not match",showError:!0,newPassword:"",newConPassword:""});else{var a=JSON.stringify(this.state);fetch("/api/user/password",{method:"POST",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Credentials":!0},body:a}).then((function(e){e.json().then((function(e){e.success?t.setState({message:"Password has been changed",showSuccess:!0,currentPassword:"",newPassword:"",newConPassword:""}):t.setState({message:"Current password is not correct",showError:!0,currentPassword:"",newPassword:"",newConPassword:""})}))})).catch((function(e){return console.log(e)}))}}},{key:"render",value:function(){return s.a.createElement(n.Fragment,null,s.a.createElement(B,{width:"100%",pageName:"CHANGE PASSWORD",back:"/account"}),s.a.createElement("form",{onSubmit:this.onSubmit,autoComplete:"new-password",style:{color:"grey"}},this.state.showError?s.a.createElement("div",null,s.a.createElement("h4",{className:"alert alert-danger alert-dismissible",role:"alert",style:{textAlign:"center",fontSize:"16px"}}," ",this.state.message," ")):null,this.state.showSuccess?s.a.createElement("div",null,s.a.createElement("h4",{className:"alert alert-success alert-dismissible",role:"alert",style:{textAlign:"center",fontSize:"16px"}}," ",this.state.message," ")):null,s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"password",className:"form-control",placeholder:"Current Password",value:this.state.currentPassword,onChange:this.onChangeCurrentPassword,autoComplete:"new-password",required:!0}),s.a.createElement("br",null),s.a.createElement(pe.a,null),s.a.createElement("br",null),s.a.createElement("input",{type:"password",className:"form-control",placeholder:"New Password",value:this.state.newPassword,onChange:this.onChangeNewPassword,autoComplete:"new-password",required:!0}),s.a.createElement("p",null),s.a.createElement("input",{type:"password",className:"form-control",placeholder:"Confirm New Password",value:this.state.newConPassword,onChange:this.onChangeNewConPassword,autoComplete:"new-password",required:!0})),s.a.createElement("br",null),s.a.createElement("input",{type:"submit",value:"CHANGE PASSWORD",className:"btn btn-primary container"})))}}]),a}(n.Component),et=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).onSubmit=n.onSubmit.bind(Object(E.a)(n)),n.state={errorMessage:"",successMessage:"",showError:!1,showSuccess:!1,user:""},n.getCurrentUser(),n}return Object(m.a)(a,[{key:"getCurrentUser",value:function(){var e=Object(c.a)(o.a.mark((function e(){var t=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/user",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Credentials":!0}}).then(function(){var e=Object(c.a)(o.a.mark((function e(a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.json().then((function(e){t.setState({user:e.currentUser[0]})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"onSubmit",value:function(e){var t=this;this.setState({showError:!1,showSuccess:!1}),e.preventDefault(),window.confirm("Are you sure? Click OK to confirm.")&&fetch("/api/user/role",{method:"POST",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Credentials":!0}}).then((function(e){e.json().then((function(e){e.success?(t.setState({showSuccess:!0,successMessage:"User role has been updated. You must re-login for changes to take effect. You will now be logged out."}),setTimeout(t.logout,6e3)):t.setState({showError:!0,errorMessage:"User role could be changed at this time."})}))})).catch((function(e){return console.log(e)}))}},{key:"logout",value:function(){fetch("/api/logout",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Credentials":!0}}).then((function(e){e.json().then((function(e){!0===e.logout&&(window.location="/")}))})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){return s.a.createElement(n.Fragment,null,s.a.createElement(B,{width:"100%",pageName:"USER ROLE",back:"/account"}),this.state.showSuccess?s.a.createElement("div",null,s.a.createElement("h4",{className:"alert alert-success alert-dismissible",role:"alert",style:{textAlign:"center",fontSize:"16px"}}," ",this.state.successMessage," ")):null,this.state.showError?s.a.createElement("div",null,s.a.createElement("h4",{className:"alert alert-danger alert-dismissible",role:"alert",style:{textAlign:"center",fontSize:"16px"}}," ",this.state.errorMessage," ")):null,s.a.createElement("div",{style:{background:"lightgrey",borderRadius:"5px",padding:"5px",textAlign:"center",fontSize:"16px"}},"You are currently using the app as a:",this.state.user.ptBool?s.a.createElement("p",{style:{fontWeight:"bold"}},"Personal Trainer"):s.a.createElement("p",{style:{fontWeight:"bold"}},"Client")),s.a.createElement("br",null),this.state.user.ptBool?s.a.createElement("div",null,s.a.createElement("p",{className:"alert alert-danger"},"Changing this would remove all of your clients assigned to you and remove the ability to create or assign workouts."),s.a.createElement("input",{type:"button",value:"CHANGE TO A CLIENT",onClick:this.onSubmit,className:"btn btn-primary container"})):s.a.createElement("div",null,s.a.createElement("p",{className:"alert alert-danger"},"Changing this would remove your workouts and your assigned personal trainer."),s.a.createElement("input",{type:"button",value:"CHANGE TO A PERSONAL TRAINER",onClick:this.onSubmit,className:"btn btn-primary container"})))}}]),a}(n.Component),tt=!1,at=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).getExerciseData=n.getExerciseData.bind(Object(E.a)(n)),n.complete=n.complete.bind(Object(E.a)(n)),n.missed=n.missed.bind(Object(E.a)(n)),n.state={exerciseData:n.props.exercise,exerciseType:["Cardio","Stretching","Body Weight","Barbell","Dumbbell"]},n.getExerciseData(),n}return Object(m.a)(a,[{key:"getExerciseData",value:function(){We=""!==this.state.exerciseData.customName?this.state.exerciseData.customName:"0"===this.state.exerciseData.exerciseTypeValue?Je[this.state.exerciseData.exerciseTypeValue][this.state.exerciseData.exerciseValue]:Je[parseInt(this.state.exerciseData.bodyPartValue)+1][parseInt(this.state.exerciseData.exerciseTypeValue)-1][this.state.exerciseData.exerciseValue],tt=ze()(this.state.exerciseData.notes,{defaultProtocol:"https"})}},{key:"complete",value:function(){document.getElementById("list"+this.props.index).style.backgroundColor="rgba(0, 230, 11, 0.37)",document.getElementById("list"+this.props.index).style.borderColor="white",this.props.complete(this.props.index)}},{key:"missed",value:function(){document.getElementById("list"+this.props.index).style.backgroundColor="rgba(230, 0, 0, 0.37)",document.getElementById("list"+this.props.index).style.borderColor="white",this.props.missed(this.props.index)}},{key:"render",value:function(){return s.a.createElement("div",{id:"list"+this.props.index,className:"boxList"},s.a.createElement(q.a,{overflow:"hidden"},s.a.createElement(z.a,{flexDirection:"row"},s.a.createElement(q.a,{flex:"1"},s.a.createElement(J.a,{fontFamily:"Arial, Helvetica, sans-serif"},s.a.createElement("b",null,"Type: "),this.state.exerciseType[this.props.exercise.exerciseTypeValue])),s.a.createElement(q.a,{flex:"1"},s.a.createElement(J.a,{textAlign:"right",fontFamily:"Arial, Helvetica, sans-serif"},this.state.exerciseData.distance?s.a.createElement("span",null,"Distance: ",this.state.exerciseData.distance," Miles"):null,this.state.exerciseData.minutes?s.a.createElement("span",null,"Duration: ",this.state.exerciseData.minutes," Min ",this.state.exerciseData.seconds," Sec"):null,this.state.exerciseData.weight?s.a.createElement("span",null,s.a.createElement("b",null,"Weight: "),this.state.exerciseData.weight," KG"):null))),s.a.createElement(z.a,{flexDirection:"row"},s.a.createElement(q.a,{flex:"1"},s.a.createElement(J.a,{fontFamily:"Arial, Helvetica, sans-serif"},s.a.createElement("b",null,"Exercise: "),We)),s.a.createElement(q.a,{flex:"1"},s.a.createElement(J.a,{textAlign:"right",fontFamily:"Arial, Helvetica, sans-serif"},this.state.exerciseData.sets?s.a.createElement("span",null,s.a.createElement("b",null,"Sets: "),this.state.exerciseData.sets," ",s.a.createElement("span",null,s.a.createElement("b",null,"Reps: "),this.state.exerciseData.repetitions)):null))),s.a.createElement(z.a,{flexDirection:"row"},s.a.createElement(q.a,{flex:"1"},s.a.createElement(J.a,{fontWeight:"bold",margin:"0",fontFamily:"Arial, Helvetica, sans-serif"},this.state.exerciseData.notes?s.a.createElement("span",null,"Notes:"):null),s.a.createElement(J.a,{fontFamily:"Arial, Helvetica, sans-serif",dangerouslySetInnerHTML:{__html:tt}}))),s.a.createElement("button",{type:"button",className:"btn btn-success container",style:{float:"left"},onClick:this.complete},"Completed"),s.a.createElement("button",{type:"button",className:"btn btn-danger container",style:{float:"right"},onClick:this.missed},"Missed")))}}]),a}(n.Component),nt=[],st=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).finishWorkout=n.finishWorkout.bind(Object(E.a)(n)),n.completedExercise=n.completedExercise.bind(Object(E.a)(n)),n.missedExercise=n.missedExercise.bind(Object(E.a)(n)),n.state={notes:""},"undefined"===typeof n.props.location.workout&&(window.location="/workout"),n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(c.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"completedExercise",value:function(e){nt[e]={completed:!0,exerciseID:this.props.location.workout.exercises[e]._id}}},{key:"missedExercise",value:function(e){nt[e]={completed:!1,exerciseID:this.props.location.workout.exercises[e]._id}}},{key:"finishWorkout",value:function(){var e=Object(c.a)(o.a.mark((function e(){var t=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/workout/record",{method:"POST",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Credentials":!0},body:JSON.stringify({workoutID:this.props.location.workout.workout._id,completedExercises:nt,notes:this.state.notes})}).then(function(){var e=Object(c.a)(o.a.mark((function e(a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.json().then(function(){var e=Object(c.a)(o.a.mark((function e(a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.success&&t.props.history.push({pathname:"/workout",workoutRecorded:!0});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return console.log(e)}));case 2:console.log(this.props.location.workout.workout._id);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return s.a.createElement(n.Fragment,null,s.a.createElement(B,{width:"100%",pageName:"RECORD WORKOUT",back:"/workout"}),s.a.createElement("h2",{style:{textAlign:"center"}},this.props.location.workout.workout.name),s.a.createElement("div",null,this.props.location.workout.exercises.map((function(t,a){return s.a.createElement("div",{key:a},s.a.createElement(at,{exercise:t,index:a,complete:e.completedExercise,missed:e.missedExercise}))}))),s.a.createElement("textarea",{rows:"3",onChange:function(t){return e.setState({notes:t.target.value})},value:this.state.notes,className:"form-control",placeholder:"How did it go?",style:{marginTop:"20px"}}),s.a.createElement("br",null),s.a.createElement("button",{className:"btn btn-primary container",onClick:this.finishWorkout},"Finish Workout"))}}]),a}(n.Component);function rt(e){var t=e.component,a=e.authed,n=e.wasInitialised,r=Object(p.a)(e,["component","authed","wasInitialised"]);return s.a.createElement(f.b,Object.assign({},r,{render:function(e){return!0===a?s.a.createElement(t,e):n?s.a.createElement(f.a,{to:{pathname:"/"}}):""}}))}var lt=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={auth:!1,ptBool:!1,wasInitialised:!1},n.checkAuth(),n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(c.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"checkAuth",value:function(){var e=Object(c.a)(o.a.mark((function e(){var t=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/auth/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Credentials":!0}}).then(function(){var e=Object(c.a)(o.a.mark((function e(a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.json().then((function(e){"/home"===e.redirect?t.setState({auth:!0,ptBool:e.ptBool,wasInitialised:!0}):t.setState({auth:!1,wasInitialised:!0})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return s.a.createElement(g.a,null,this.state.auth?s.a.createElement(Te,null):null,s.a.createElement("div",{className:"container"},s.a.createElement("br",null),s.a.createElement(f.b,{path:"/",exact:!0,component:W}),s.a.createElement(f.b,{path:"/register",exact:!0,component:X}),this.state.ptBool?s.a.createElement(f.d,null,s.a.createElement(rt,{authed:this.state.auth,wasInitialised:this.state.wasInitialised,exact:!0,path:"/home",component:Q}),s.a.createElement(rt,{authed:this.state.auth,wasInitialised:this.state.wasInitialised,exact:!0,path:"/workout",component:ne}),s.a.createElement(rt,{authed:this.state.auth,wasInitialised:this.state.wasInitialised,exact:!0,path:"/workout/new",component:Qe})):s.a.createElement(f.d,null,s.a.createElement(rt,{authed:this.state.auth,wasInitialised:this.state.wasInitialised,exact:!0,path:"/home",component:G}),s.a.createElement(rt,{authed:this.state.auth,wasInitialised:this.state.wasInitialised,exact:!0,path:"/workout",component:ee}),s.a.createElement(rt,{authed:this.state.auth,wasInitialised:this.state.wasInitialised,exact:!0,path:"/workout/record",component:st})),s.a.createElement(rt,{authed:this.state.auth,wasInitialised:this.state.wasInitialised,exact:!0,path:"/messages",component:me}),s.a.createElement(rt,{authed:this.state.auth,wasInitialised:this.state.wasInitialised,exact:!0,path:"/chat",component:de}),s.a.createElement(rt,{authed:this.state.auth,wasInitialised:this.state.wasInitialised,exact:!0,path:"/account",component:xe}),s.a.createElement(rt,{authed:this.state.auth,wasInitialised:this.state.wasInitialised,exact:!0,path:"/account/body",component:Ge}),s.a.createElement(rt,{authed:this.state.auth,wasInitialised:this.state.wasInitialised,exact:!0,path:"/account/update",component:Xe}),s.a.createElement(rt,{authed:this.state.auth,wasInitialised:this.state.wasInitialised,exact:!0,path:"/account/password",component:Ze}),s.a.createElement(rt,{authed:this.state.auth,wasInitialised:this.state.wasInitialised,exact:!0,path:"/account/role",component:et})))}}]),a}(n.Component),it=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ot(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}l.a.render(s.a.createElement(lt,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");it?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):ot(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):ot(t,e)}))}}()}},[[135,1,2]]]);
//# sourceMappingURL=main.5fb239b7.chunk.js.map